{"version":3,"sources":["components/header/Header.jsx","components/footer/Footer.jsx","components/semanticsearchview/similarityview/SimilarityView.jsx","components/helperfunctions/HelperFunctions.jsx","components/semanticsearchview/datasetview/DatasetView.jsx","components/helperfunctions/DrawLine.jsx","components/semanticsearchview/configview/ConfigView.jsx","components/semanticsearchview/SemanticSearchView.jsx","components/embeddingview/embeddingchart/ScatterPlot.jsx","components/embeddingview/embeddingchart/ConfigBar.jsx","components/embeddingview/EmbeddingView.jsx","components/livesearchview/uploadview/UploadSimilarityView.jsx","components/livesearchview/uploadview/UploadButtonView.jsx","components/livesearchview/LiveSearchView.jsx","components/introductionview/IntroductionView.jsx","components/Main.js","serviceWorker.js","index.js","images/bgwhite.png"],"names":["Header","className","aria-label","href","src","alt","exact","to","Footer","style","zIndex","target","Component","SimilarityView","props","selections","imageBasePath","basePath","dataset","name","selectedImagePath","selectedImage","selectedCat","dictionary","topSimilar","simCount","modelScore","totalScore","incorrectResults","i","similarityArray","slice","String","push","similarImagesList","map","alldata","index","imagePath","correctCategory","key","backgroundColor","onClick","setSelectedImage","indexvalue","searchPerformanceBox","toFixed","Tooltip","direction","triggerText","toUpperCase","display","show","getter","similarDrawer","abbreviateString","value","maxLength","length","substring","intlFormat","num","Intl","NumberFormat","format","Math","round","makeFriendly","abs","loadJSONData","url","fetch","then","response","status","json","data","console","log","catch","err","getElement","id","document","getElementById","checkInView","container","element","partial","containerOffset","elementOffset","cTop","scrollTop","cBottom","clientHeight","eTop","offsetTop","eBottom","ReactGA","initialize","window","LeaderLine","shuffleData","info","datasetContent","Object","keys","row","path","shuffle","DatasetView","classlist","useState","setSimilarityArray","dataRandom","setDataRandom","similarityPath","model","metric","layer","useEffect","meta","allData","clickImage","advancedDrawer","setter","allDataByCategory","datasetClasses","clist","classes","classval","header","require","datasetTitle","description","Tabs","selected","Tab","label","animOptions","duration","timing","drawArcLines","layers","lineHolder","layerBox","modelBox","modelVisible","lineParams","currentLayerBox","isPrima","startElement","endElement","color","endSocket","endPlugSize","size","entries","param","line","startPlug","endPlug","startPlugColor","hide","startSocket","drawLines","ConfigView","config","models","selectedModel","selectedLayer","useRef","isScrolling","selectedModelRef","selectedLayerRef","laysersRef","showMetrics","removeLines","current","forEach","each","remove","scrollEndedHandler","clearTimeout","setTimeout","addEventListener","scrollTo","top","left","behavior","removeEventListener","datasetImageList","datasets","dsdata","iconPath","icon","selectedDataset","modelImageList","mdata","layerImageList","ldata","layer_index","modelparameters","metricImageList","metrics","selectedDistanceMetric","dimReductionList","dimreduction","dim","selectedDimReduction","advanced","numlayers","type","SemanticSearchView","showAdvanced","setAdvancedDrawer","setShowAdvanced","selectedModelImagePath","title","Toggle","labelA","labelB","defaultToggled","onToggle","modelViewDetails","datasetInfo","margin","toolTip","createElement","toolTipImg","toolTipLabel","appendChild","toolTipImgBasePath","zoom","d3","extent","scaleExtent","updateAxes","x","domain","d","range","y","z","class","handleMouseOver","e","attr","innerHTML","handleMouseOut","ScatterPlot","scoreData","umapPath","svg","transition","call","transform","selectAll","join","on","legendBox","legendRow","legendText","legendCircle","updateGraph","pathGroup","html","append","drawGraph","prepend","cycleFire","cycle","setInterval","clearInterval","fill","ConfigBar","datasetList","SelectItem","text","modelList","layerList","datestImagePath","modelImagePath","layerImagePath","Select","defaultValue","width","hideLabel","onChange","selectedIndex","labelText","EmbeddingView","UploadSimilarityView","ids","allowedFileTypes","allowedFileExtensions","re","UploadButtonView","uploadedFile","setUploadedFile","searchResult","setSearchResult","fetchingSimilar","setFetchingSimilar","selectedUrlImage","setSelectedUrlImage","fetchError","setFetchError","searchUrl","imageUrls","fetchSimilar","fileUrl","postData","loadedJSON","fileurl","method","body","JSON","stringify","headers","Promise","reject","formData","FormData","uploadFile","getFileData","file","fileTypeValid","includes","fileSizeValid","errorMessage","fileData","filesize","valid","error","updateMainImgSrc","URL","createObjectURL","clickSampleImage","fetchFile","split","fileExt","exec","onPaste","stopPropagation","item","clipboardData","items","getAsFile","onDrop","preventDefault","dataTransfer","files","onDrag","dropEffect","fileList","FileUploaderItem","errorSubject","errorBody","invalid","onDelete","urlList","Loading","TextInput","Button","FileUploaderButton","disableLabelChanges","multiple","accept","searchtime","extractiontime","LiveSearchView","IntroductionView","history","createBrowserHistory","basename","forceRefresh","keyLength","getUserConfirmation","message","callback","confirm","listen","location","linkHolder","updateLh","hash","Main","datasetViewDetails","setSelectedDataset","setSelectedModel","setSelectedDistanceMetric","setSelectedLayer","setSimilarDrawer","cycleActive","setCycleActive","process","render","Boolean","hostname","match","ReactDOM","navigator","serviceWorker","ready","registration","unregister","module","exports"],"mappings":";y44BAae,SAASA,IAGtB,OACE,6BACE,yBAAKC,UAAU,aAAaC,aAHT,sBAIjB,yBAAKD,UAAU,wCACb,yBAAKA,UAAU,gBACb,yBAAKA,UAAU,wCACb,uBAAGE,KAA+B,MAChC,yBACEF,UAAU,aACVG,IAAI,kBACJC,IAAI,oBAIV,yBAAKJ,UAAU,+CACb,yBAAKA,UAAU,mCAAf,IAjBI,qBAiBJ,MAEF,yBAAKA,UAAU,+CACb,kBAAC,IAAD,CAASK,OAAK,EAACC,GAAG,KAAlB,kBACkB,MAGpB,yBAAKN,UAAU,+CACb,kBAAC,IAAD,CAASK,OAAK,EAACC,GAAG,eAAlB,aACa,MAGf,yBAAKN,UAAU,+CACb,kBAAC,IAAD,CAASK,OAAK,EAACC,GAAG,eAAlB,cACc,SAMtB,8BACA,yBAAKN,UAAU,eAAf,M,oCC1BSO,G,8KAZX,OACE,yBAAKC,MAAO,CAAEC,OAAQ,OAAUT,UAAU,mBAA1C,aACY,0BAAMA,UAAU,YAAhB,UADZ,MACyD,IACvD,uBAAGE,KAAK,0CAA0CQ,OAAO,SAAzD,8BAFF,S,GAHeC,c,oECAN,SAASC,EAAeC,GACrC,IAAMC,EAAaD,EAAMC,WAEnBC,EACJD,EAAWE,SACX,8BACAF,EAAWG,QAAQC,KACnB,IACIC,EAAoBJ,EAAgBF,EAAMO,cAAgB,OAC1DC,EAAcP,EAAWQ,WAAWT,EAAMO,eAE1CG,EAAaT,EAAWS,WAC1BC,EAAW,EACXC,EAAa,EACbC,EAAa,EACbC,EAAmB,GAEvB,IAAK,IAAIC,KAAKf,EAAMgB,gBAAgBC,MAAM,EAAGP,EAAa,GAEtDQ,OAAOV,KACPU,OAAOjB,EAAWQ,WAAWT,EAAMgB,gBAAgBD,MAEnDJ,IACAC,IAAeF,EAAaK,GAAKL,GAEjCI,EAAiBK,KAAKnB,EAAMgB,gBAAgBD,IAE9CF,IAAeH,EAAaK,GAAKL,EAKnC,IAAMU,EAAoBpB,EAAMgB,gBAAgBK,KAAI,SAACC,EAASC,GAC5D,IAAIC,EAAYtB,EAAgBoB,EAAU,OAGtCG,EACFxB,EAAWQ,WAAWT,EAAMO,iBAC5BN,EAAWQ,WAAWa,GACxB,OACE,yBACEI,IAAKJ,EAAU,SACfnC,UAAU,qDAEV,yBACEQ,MAAO,CAAEgC,gBAAiBF,EAAkB,QAAU,OACtDtC,UAAU,aAGZ,yBACEuC,IAAKJ,EAAU,QAAUA,EAEzBM,QAAS,kBAAM5B,EAAM6B,iBAAiBP,IACtChC,IAAKkC,EACLjC,IAAI,GACJJ,UAAW,oCACX2C,WAAYR,QAMdS,EACJ,yBAAK5C,UAAU,+BAEb,yBAAKA,UAAU,eACb,yBAAKA,UAAU,4BACVyB,EAAaC,EAAc,KAAKmB,QAAQ,GAAK,KAGlD,yBAAK7C,UAAU,2CACb,kBAAC8C,EAAA,EAAD,CAASC,UAAW,QAASC,YAAY,iBACvC,yBAAKhD,UAAU,UAAf,4KAIE,gCACGwB,EADH,MACgBD,EADhB,YAJF,qCAQE,oCAAUF,EAAY4B,cAAtB,KARF,gGAUkB,0BAAMjD,UAAU,WAAhB,aAVlB,mDAW6C,IAC3C,0BAAMA,UAAU,WAAhB,OAZF,cAqBV,OACE,yBACEQ,MAAO,CACL0C,QAASpC,EAAWqC,KAAKC,OAAOC,cAAgB,GAAK,QAEvDrD,UAAU,SAEV,yBAAKA,UAAU,mCACb,yBAAKA,UAAW,6BACd,yBAAKA,UAAU,iCACf,yBAAKA,UAAU,SACb,yBAAKA,UAAU,sCACb,yBACEG,IAAKgB,EACLnB,UAAU,mCACVI,IAAI,KAEN,yBAAKJ,UAAU,sDACb,yBAAKA,UAAU,kCAAf,kBAGA,yBAAKA,UAAU,yBACZqB,EAAY4B,cADf,IAC8B,wCAMlC,yBAAKjD,UAAU,aACb,yBAAKA,UAAU,6BACZ4C,EACAX,EAAkBH,MAAM,EAAGP,GAC5B,6BACA,mC,oBCpHT,SAAS+B,EAAiBC,EAAOC,GACtC,OAAID,EAAME,QAAUD,EACXD,EAEMA,EAAMG,UAAU,EAAGF,GAAa,MAejD,SAASG,EAAWC,GAClB,OAAO,IAAIC,KAAKC,cAAeC,OAAOC,KAAKC,MAAY,GAANL,GAAY,IAExD,SAASM,EAAaN,GAC3B,OAAIA,EAAM,GAAKA,EAAM,EACZA,EAELI,KAAKG,IAAIP,IAAQ,IAAgBD,EAAWC,EAAM,KAAW,IAC7DI,KAAKG,IAAIP,IAAQ,IAAaD,EAAWC,EAAM,KAAQ,IACpDD,EAAWC,GAGb,SAASQ,EAAaC,GAC3B,OAAOC,MAAMD,GACVE,MAAK,SAAUC,GACd,GAAwB,MAApBA,EAASC,OAUb,OAAOD,EAASE,OAAOH,MAAK,SAAUI,GACpC,OAAOA,KAVPC,QAAQC,IACN,gDAAkDL,EAASC,WAYhEK,OAAM,SAAUC,GACfH,QAAQC,IAAI,kBAAmBE,MAyE9B,SAASC,EAAWC,GACzB,OAAOC,SAASC,eAAeF,GAoC1B,SAASG,EACdC,EACAC,EACAC,EACAC,EACAC,GAEA,GAAIJ,EAAW,CAEb,IAAIK,EAAOL,EAAUM,UACjBC,EAAUF,EAAOL,EAAUQ,aAAeL,EAG1CM,EAAOR,EAAQS,UAAYN,EAC3BO,EAAUF,EAAOR,EAAQO,aAY7B,OATcC,GAAQJ,GAAQM,GAAWJ,GAEvCL,IACEO,EAAOJ,GAAQM,EAAUN,GACxBM,EAAUJ,GAAWE,EAAOF,GAOjC,OAAO,EA/MXK,IAAQC,WAAW,kBAmNOC,OAAOC,WAK1B,SAASC,EAAY1B,EAAM2B,GAIhC,IAHA,IAAIC,EAAiB,GAGrB,MAAkBC,OAAOC,KAAK9B,GAA9B,eAAqC,CAAhC,IAAgC,EAA1B+B,EAAG,KAAuB,cACnB/B,EAAK+B,IADc,IACnC,2BAA2B,CAAC,IAAjB9E,EAAgB,QACnBS,EAJqC,8BAITiE,EAAKpF,KAAO,IAAMU,EAAI,OACxD2E,EAAevE,KAAK,CAAE2E,KAAMtE,EAAWD,MAAOR,KAHb,+BAMrC,OAAOgF,kBAAQL,GClNF,SAASM,EAAYhG,GAClC,IAAMC,EAAaD,EAAMC,WACnBgG,EAAYhG,EAAWgG,UAFY,EAGCC,mBAAS,GAHV,mBAGlC3F,EAHkC,KAGnBsB,EAHmB,OAIKqE,mBAAS,MAJd,mBAIlClF,EAJkC,KAIjBmF,EAJiB,OAMLD,mBAAS,IANJ,mBAMlCE,EANkC,KAMtBC,EANsB,KAQnCC,EACJrG,EAAWE,SACX,gCACAF,EAAWG,QAAQC,KACnB,IACAJ,EAAWsG,MAAMlG,KACjB,IACAJ,EAAWuG,OACX,IACAvG,EAAWwG,MAAMpG,KACjB,QAEFqG,qBAAU,WACRL,EAAcb,EAAYxF,EAAM8D,KAAM9D,EAAM2G,SAC3C,CAAC3G,EAAM8D,KAAM9D,EAAM2G,OAEtBD,qBAAU,WAESnD,EAAa+C,GACnB5C,MAAK,SAAUI,GACpBA,GACFqC,EAAmBrC,QAGtB,CAACwC,IAEJ,IAAMM,EAAUR,EAAW/E,KAAI,SAACyC,EAAMvC,GACpC,OACE,yBACEG,IAAKH,EAAQ,SACbpC,UAAU,qDAEV,yBACEuC,IAAK,QAAUH,EACfK,QAAS,kBAAMiF,EAAW/C,EAAKvC,QAC/BjC,IAAKwE,EAAKgC,KACVvG,IAAI,GACJJ,UACE,6BACC2E,EAAKvC,MAAQ,KAAOhB,EAAgB,GAAK,SAAW,IAEvDuB,WAAYgC,EAAKvC,YAMzB,SAASsF,EAAWzC,GAClBvC,EAAiBuC,GACbnE,EAAWqC,KAAKC,OAAOuE,gBACzB7G,EAAWqC,KAAKyE,OAAOD,gBAAe,GAI1C,IA9DyC,EA8DrCE,EAAoB,GAClBC,EAAiBhB,EAAUhG,EAAWG,QAAQC,MA/DX,cAiEjB4G,GAjEiB,IAiEzC,2BAAwC,CAAC,IAA9B9H,EAA6B,QAElC+H,EADWjH,EAAWkH,QAAQlH,EAAWG,QAAQC,MAChClB,GAAWkC,KAAI,SAAC+F,EAAU7F,GAC7C,IAAIC,EACFvB,EAAWE,SACX,8BACAF,EAAWG,QAAQC,KACnB,IACA+G,EACA,OACF,OACE,yBACE1F,IAAK0F,EAAW,SAChBjI,UAAU,qDAEV,yBACEuC,IAAK0F,EAAW,QAChBxF,QAAS,kBAAMiF,EAAWO,IAC1B9H,IAAKkC,EACLjC,IAAI,GACJJ,UACE,6BACCoB,IAAkB6G,EAAW,SAAW,IAE3CtF,WAAYsF,QAKhBC,EACF,yBAAK3F,IAAK,SAAWvC,EAAWA,UAAU,iCACxC,6BACE,yBAAKA,UAAU,2BACZA,EAAUiD,eAEb,yBACE9C,IAAKgI,EAAQ,IACb/H,IAAI,GACJJ,UAAW,wBAMnB6H,EAAkB7F,KAAKkG,GACvBL,EAAkB7F,KAAK+F,IA9GgB,8BAiHzC,IAAMK,EACJ,yBAAKpI,UAAU,QACb,0BAAMA,UAAU,YAAhB,cAAuCa,EAAM2G,KAAKtG,MAClD,0BAAMlB,UAAU,cAAhB,IAA+Ba,EAAM2G,KAAKa,cAI9C,OACE,yBAAKrI,UAAU,QAIX,6BACE,yBAAKA,UAAU,8BACb,yBAIEA,UAAU,wEAEV,uCAAaa,EAAMC,WAAWS,WAA9B,aANF,sCAQE,0BAAMvB,UAAU,aAAhB,IACG,4CACAa,EAAMC,WAAWsG,MAAMlG,KAAK+B,cAF/B,KAGE,4CAHF,IAG6BpC,EAAMC,WAAWwG,MAAMpG,KAHpD,KAIE,sDACCL,EAAMC,WAAWuG,OAAOpE,cAL3B,SAWPpB,GACC,kBAACjB,EAAD,CACEQ,cAAeA,EACfS,gBAAiBA,EAAgBT,GACjCsB,iBAAkBgF,EAClB5G,WAAYD,EAAMC,aAItB,kBAACwH,EAAA,EAAD,CAAMtI,UAAU,GAAGuI,SAAU,GAC3B,kBAACC,EAAA,EAAD,CAAKvD,GAAG,UAAUwD,MAAM,YACtB,yBAAKzI,UAAU,+BACZoI,EACAX,IAGL,kBAACe,EAAA,EAAD,CAAKvD,GAAG,aAAawD,MAAM,eACzB,yBAAKzI,UAAU,+BACZoI,EACAP,M,WCvLAzB,EAAaD,OAAOC,WACpBsC,EAAc,CAAEC,SAAU,IAAKC,OAAQ,QCqBpD,SAASC,EAAazB,EAAOE,EAAOwB,EAAQC,GAC1C,IAAMC,EAAWhE,EAAW,kBACtBiE,EAAWjE,EAAW,kBACtBS,GAAiB,EAAIwD,EAASlD,UAAY,GAG1CmD,EAAe9D,EACnB6D,EACAjE,EAAW,WAAaoC,IACxB,GACC,GACD3B,GAGI0D,EAAa,GACnB,IAAK,IAAMvH,KAAKkH,EAAQ,CACtB,IAAMM,EAAkBpE,EAAW,WAAapD,GAQhD,GAPqBwD,EACnB4D,EACAI,GACA,GACC,GACD3D,IAEkByD,EAAc,CAChC,IAAMG,EAAUtH,OAAOuF,KAAWvF,OAAOH,GACzCuH,EAAWnH,KAAK,CACdsH,aAActE,EAAW,WAAaoC,GACtCmC,WAAYH,EACZI,MAAOH,EHqKU,oBADA,2BGnKjBI,UAAWJ,EAAU,MAAQ,OAC7BK,YAAa,EACbC,KAAMN,EAAU,IAAM,QD1CvB,SAAmBN,EAAYI,GAAY,oBAEvBA,EAAWS,WAFY,IAEhD,2BAA+C,CAAC,IAAD,yBAAnChI,EAAmC,KAAhCiI,EAAgC,KACzCC,EAAO,IAAI1D,EAAWyD,EAAMP,aAAcO,EAAMN,WAAY,CAC9DC,MAAOK,EAAML,MACbO,UAAW,OACXC,QAAS,OACTC,eAAgBJ,EAAML,MACtB7C,KAAM,QACNgD,KAAME,EAAMF,KACZO,MAAM,EACNC,YAAa,SACbV,UAAWI,EAAMJ,UACjBC,YAAaG,EAAMH,cAIrBhB,EAAYC,SAAW,IACvBmB,EAAK3G,KAAK,OAAQuF,GAClBK,EAAW/G,KAAK,CAAE8H,KAAMA,EAAM1H,MAAOR,KAnBS,+BC8ChDwI,CAAUrB,EAAYI,GAGT,SAASkB,EAAWxJ,GACjC,IAAMC,EAAaD,EAAMC,WACnBqC,EAAOrC,EAAWqC,KAClBmH,EAASxJ,EAAWwJ,OACpBxB,EAASjI,EAAM0J,OAAOD,EAAOlH,OAAOoH,eAAe1B,OACnD2B,EAAgB3B,EAAOwB,EAAOlH,OAAOqH,eAErC1B,EAAa2B,iBAAO,IACpBC,EAAcD,iBAAO,MACrBE,EAAmBF,iBAAOJ,EAAOlH,OAAOoH,eACxCK,EAAmBH,iBAAOJ,EAAOlH,OAAOqH,eACxCK,EAAaJ,iBAAO5B,GACpBiC,EAAclK,EAAMkK,YAE1B,SAASC,IACPjC,EAAWkC,QAAQC,SAAQ,SAAUC,GACnCA,EAAKrB,KAAKsB,YAEZrC,EAAWkC,QAAU,GAGvB1D,qBAAU,WACR,SAAS8D,IACPlF,OAAOmF,aAAaX,EAAYM,SAChCN,EAAYM,QAAUM,YAAW,WAE/BP,IACAnC,EACE+B,EAAiBK,QACjBJ,EAAiBI,QACjBH,EAAWG,QACXlC,EAAWkC,WAEZ,KAEL,IAAMjC,EAAWhE,EAAW,kBACtBiE,EAAWjE,EAAW,kBAa5B,OAVAmB,OAAOqF,iBAAiB,SAAUH,GAClCpC,EAASuC,iBAAiB,SAAUH,GAAoB,GACxDrC,EAASwC,iBAAiB,SAAUH,GAAoB,GAExDrC,EAASyC,SAAS,CAChBC,IAAK,IACLC,KAAM,EACNC,SAAU,WAGL,WACLZ,IAEA7E,OAAO0F,oBAAoB,SAAUR,GACrCpC,EAAS4C,oBAAoB,SAAUR,GAAoB,GAC3DrC,EAAS6C,oBAAoB,SAAUR,GAAoB,MAE5D,IAEH9D,qBAAU,WAaR,OAXAqD,EAAiBK,QAAUX,EAAOlH,OAAOoH,cACzCK,EAAiBI,QAAUX,EAAOlH,OAAOqH,cACzCK,EAAWG,QAAUnC,EAErBD,EACEyB,EAAOlH,OAAOoH,cACdF,EAAOlH,OAAOqH,cACd3B,EACAC,EAAWkC,SAGN,WACLD,OAED,CACDV,EAAOlH,OAAOoH,cACdF,EAAOlH,OAAOqH,cACd3B,EACA3F,EAAKC,OAAOuE,iBAKd,IAAImE,EAAmBjL,EAAMkL,SAAS7J,KAAI,SAAC8J,EAAQ5J,GACjD,IAAI6J,EACFnL,EAAWE,SAAW,4BAA8BgL,EAAOE,KAE7D,OACE,yBACE3J,IAAKyJ,EAAO9K,KAAO,UAAYkB,EAC/BpC,UAAU,6CAEV,yBAAKA,UAAU,iBAAf,IAAiCgM,EAAO9K,KAAK+B,eAC7C,yBAAKjD,UAAU,iBAAiBgM,EAAOrC,KAAvC,YACA,yBACElH,QAAS,kBAAM6H,EAAO1C,OAAOuE,gBAAgB/J,IAC7CjC,IAAK8L,EACL7L,IAAI,GACJJ,UACE,oBACC+B,OAAOuI,EAAOlH,OAAO+I,mBAAqBpK,OAAOK,GAC9C,SACA,IAENO,WAAYP,QAMhBgK,EAAiBvL,EAAM0J,OAAOrI,KAAI,SAACmK,EAAOjK,GAC5C,IAAIC,EACFvB,EAAWE,SACX,kBACAH,EAAM0J,OAAOnI,GAAOlB,KACpB,IACAL,EAAM0J,OAAOnI,GAAO0G,OAAOjI,EAAM0J,OAAOnI,GAAO0G,OAAOrF,OAAS,GAAGvC,KAClE,SAGF,OACE,yBACE+D,GAAI,cAAgB7C,EACpBG,IAAK8J,EAAMnL,KAAO,UAAYkB,EAC9BpC,UAAU,8CAEV,yBAAKA,UAAU,iBACZ,IACAsD,EAAiB+I,EAAMnL,KAAK+B,cAAe,KAE9C,yBAAKjD,UAAU,iBACZkE,EAAamI,EAAK,iBADrB,WACmD,KAEnD,yBACEpH,GAAI,WAAa7C,EACjBK,QAAS,kBAAM6H,EAAO1C,OAAO4C,cAAcpI,IAC3CjC,IAAKkC,EACLjC,IAAI,GACJJ,UACE,oBACC+B,OAAOuI,EAAOlH,OAAOoH,iBAAmBzI,OAAOK,GAC5C,SACA,IAENO,WAAYP,QAMhBkK,EAAiBxD,EAAO5G,KAAI,SAACqK,EAAOnK,GACtC,IAAIC,EACFvB,EAAWE,SACX,kBACAF,EAAWsG,MAAMlG,KACjB,IACA4H,EAAO1G,GAAOlB,KACd,SAEF,OACE,yBACEqB,IAAKgK,EAAQ,UAAYnK,EACzBpC,UAAU,8CAEV,yBAAKA,UAAU,iBAAf,IAAiC,SAAWuM,EAAMC,YAAlD,KAEA,yBAAKxM,UAAU,iBACZ,IACAkE,EAAaqI,EAAME,iBAFtB,WAIA,yBACExH,GAAI,WAAa7C,EACjBK,QAAS,kBAAM3B,EAAWwJ,OAAO1C,OAAO6C,cAAcrI,IACtDjC,IAAKkC,EACLjC,IAAI,GACJJ,UACE,oBACC+B,OAAOuI,EAAOlH,OAAOqH,iBAAmB1I,OAAOK,GAC5C,SACA,IAENO,WAAYP,QAMhBsK,EAAkB7L,EAAM8L,QAAQzK,KAAI,SAACmF,EAAQjF,GAC/C,OACE,yBACEG,IAAK8E,EAAS,UAAYjF,EAC1BpC,UAAU,gEAEV,yBAAKA,UAAU,iBACZ,IACAsD,EAAiB+D,EAAQ,IAAIpE,cAAe,KAE/C,yBAAKjD,UAAU,iBAAf,aACA,yBAAKA,UAAU,gCACZ,IACAsD,EAAiB+D,EAAQ,GAAGpE,eAE/B,yBACER,QAAS,kBAAM6H,EAAO1C,OAAOgF,uBAAuBxK,IACpDjC,IAAKgI,EAAQ,IACb/H,IAAI,GACJJ,UACE,oBACC+B,OAAOuI,EAAOlH,OAAOwJ,0BAA4B7K,OAAOK,GACrD,SACA,IAENO,WAAYP,QAMhByK,GAAoBhM,EAAMiM,cAAgB,IAAI5K,KAAI,SAAC6K,EAAK3K,GAC1D,OACE,yBACEG,IAAKwK,EAAM,UAAY3K,EACvBpC,UAAU,iDAEV,yBAAKA,UAAU,kBACZsD,EAAiByJ,EAAK,IAAI9J,eAE7B,yBAAKjD,UAAU,iBAAf,YACA,yBAAKA,UAAU,gCACZ,IACAsD,EAAiByJ,EAAK,GAAG9J,eAE5B,yBACER,QAAS,kBAAM6H,EAAO1C,OAAOoF,qBAAqB5K,IAClDjC,IAAKgI,EAAQ,IACb/H,IAAI,GACJJ,UACE,oBACC+B,OAAOuI,EAAOlH,OAAO4J,wBAA0BjL,OAAOK,GACnD,SACA,IAENO,WAAYP,QAMpB,OACE,yBAAKpC,UAAU,QACb,yBAAKA,UAAW,KAAOmD,EAAKC,OAAO6J,SAAW,GAAK,iBAEjD,yBACExK,QAAS,kBACPU,EAAKyE,OAAOD,gBAAgBxE,EAAKC,OAAOuE,iBAE1C3H,UAAU,sEAEV,yBAAKA,UAAU,+BACb,gCACG,KACCmD,EAAKC,OAAOuE,gBAAkB,yCAAwB,IACvDxE,EAAKC,OAAOuE,gBAAkB,yCAAwB,KAC/C,IACV,sDAEF,yBAAK3H,UAAU,aACb,yBAAKA,UAAU,cACZ,IACD,0BAAMA,UAAU,sBACb,IACAc,EAAWG,QAAQC,OAGxB,yBAAKlB,UAAU,UACb,yBAAKA,UAAU,aAAf,gBAOJ,yBACEQ,MAAO,CAAEC,OAAQ,KACjBT,UACE,6BACCmD,EAAKC,OAAOuE,eAAiB,GAAK,iBAGrC,yBAAK3H,UAAU,gBACb,yBAAKA,UAAU,yBACb,yBAAKA,UAAU,sBACb,yBAAKA,UAAU,UAAf,WACA,yBAAKA,UAAU,YAEjB,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,sDACZ8L,GAEH,yBAAK9L,UAAU,IACb,yBAAKA,UAAU,0EACZc,EAAWG,QAAQC,KAAK+B,kBAajC,yBAAKzC,MAAO,CAAEC,OAAQ,KAAOT,UAAU,eACrC,yBAAKA,UAAU,sBAAf,WACA,yBAAKA,UAAU,iBACf,yBACEiF,GAAG,iBACHjF,UAAU,6CAEToM,GAEH,yBAAKpM,UAAU,sBACb,yBAAKA,UAAU,WACb,yBAAKA,UAAU,0DACZc,EAAWsG,MAAMlG,KAAK+B,gBAG3B,yBAAKjD,UAAU,aACb,yBAAKA,UAAU,iBACZ,IACD,gCACG,IACAkE,EAAapD,EAAWsG,MAAMqF,iBAAkB,IAFnD,aAGa,KACH,KAEZ,yBAAKzM,UAAU,iBACZ,IACAc,EAAWsG,MAAM8F,UAFpB,UAEsC,QAK5C,yBAAK1M,MAAO,CAAEC,OAAQ,KAAOT,UAAU,eACrC,yBAAKA,UAAU,qBACb,yBAAKA,UAAU,UAAf,SAEA,yBAAKA,UAAU,WACb,kBAAC8C,EAAA,EAAD,CAASC,UAAU,OAAOC,YAAY,IACpC,yBAAKhD,UAAU,UAAf,eACe,IACb,0BAAMA,UAAU,WAAhB,uBAFF,wJAcN,yBAAKA,UAAU,iBACf,yBACEiF,GAAG,iBACHjF,UAAU,kCAEV,yBAAKA,UAAU,iBAAf,IAAiCsM,EAAjC,MAEF,yBAAKtM,UAAU,sBACb,yBAAKA,UAAU,WACb,yBAAKA,UAAU,0DACZ,UAAYyK,EAAc+B,cAG/B,yBAAKxM,UAAU,aACb,yBAAKA,UAAU,iBACZ,IACD,yCAAeyK,EAAc0C,KAA7B,KAFF,KAEiD,IAC/C,0BAAMnN,UAAU,aACb,IACAyK,EAAcvJ,KAAK+B,cAAe,KAC7B,KAEV,yBAAKjD,UAAU,iBACZ,IACAkE,EAAauG,EAAcgC,iBAF9B,oBAGa,QAMlB1B,GACC,yBAAK/K,UAAU,oBACb,yBAAKA,UAAU,qBACb,yBAAKA,UAAU,UAAf,mBAEA,yBAAKA,UAAU,WACb,kBAAC8C,EAAA,EAAD,CAASC,UAAU,OAAOC,YAAY,IACpC,yBAAKhD,UAAU,UAAf,iFAQN,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,6BACb,yBAAKA,UAAU,iBAAf,IAAiC0M,EAAjC,MAEF,yBAAK1M,UAAU,0DACZ,IACAa,EAAM8L,QACLrC,EAAOlH,OAAOwJ,wBACd3J,iBAKN8H,GACA,yBAAK/K,UAAU,oBACb,yBAAKA,UAAU,qBACb,yBAAKA,UAAU,UAAf,kBAEA,yBAAKA,UAAU,WACb,kBAAC8C,EAAA,EAAD,CAASC,UAAU,OAAOC,YAAY,IACpC,yBAAKhD,UAAU,UAAf,8EAQN,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,6BACb,yBAAKA,UAAU,iBAAf,IAAiC6M,EAAjC,MAEF,yBAAK7M,UAAU,0DACZ,IACAa,EAAMiM,aACLxC,EAAOlH,OAAO4J,sBACd/J,gBAKR,yBAAKjD,UAAU,oBC9eZ,SAASoN,EAAmBvM,GACzC,IAAMC,EAAaD,EAAMC,WACnBuM,EAAevM,EAAWqC,KAAKC,OAAO6J,SACtCK,EAAoBxM,EAAWqC,KAAKyE,OAAOD,eAC3C4F,EAAkBzM,EAAWqC,KAAKyE,OAAOqF,SACzCO,EACJ1M,EAAWE,SACX,kBACAF,EAAWsG,MAAMlG,KACjB,IACAJ,EAAWwG,MAAMpG,KACjB,SAKF,OAHAqG,qBAAU,WACRrC,SAASuI,MAAT,kDACC,IAED,6BACE,yBAAKzN,UAAU,SACb,yBAAKA,UAAU,YACb,yBAAKA,UAAU,gDACb,yBAAKA,UAAU,uDACb,yBAAKA,UAAU,qBACb,kBAAC0N,EAAA,EAAD,CACEzI,GAAG,wBACHjF,UAAU,0BACV2N,OAAO,MACPC,OAAO,KACPC,eAAgBR,EAEhBS,SAAU,WACHT,GACHC,GAAkB,GAEpBC,GAAiBF,OAKvB,yBAAKrN,UAAU,+BAAf,qBAIF,yBAAKA,UAAU,iBACZ,IADH,0DAKA,yBAAKA,UAAU,4CACb,yBACEA,UAAU,iCACVG,IAAKqN,EACLpN,IAAI,KAEN,yBAAKJ,UAAU,WACb,yBAAKA,UAAU,OACb,yBAAKA,UAAU,4BAAf,YACY,IACV,0BAAMA,UAAU,YAAYc,EAAWG,QAAQC,OAEjD,yBAAKlB,UAAU,2BAAf,UACU,IACR,0BAAMA,UAAU,YAAYc,EAAWsG,MAAMlG,KAA7C,MAMF,yBAAKlB,UAAU,2BAAf,UACU,IACR,0BAAMA,UAAU,YACbsD,EAAiBxC,EAAWwG,MAAMpG,KAAM,IAAK,MAOlD,yBAAKlB,UAAU,wBAAf,WACW,IACT,0BAAMA,UAAU,YAAYc,EAAWuG,YAK/C,0BAAMrH,UAAU,UAAhB,sEAGE,0BAAMA,UAAU,sBACb,IACAc,EAAWsG,MAAMlG,MACZ,IANV,IAOG,0BAAMlB,UAAU,WAAhB,WAPH,kEAQ2C,IACzC,wCAAcc,EAAWS,WAAzB,KATF,oLAkBLT,EAAWqC,KAAKC,OAAO6J,UACtB,kBAAC5C,EAAD,CACEE,OAAQ1J,EAAMkN,iBAAiBxD,OAC/BwB,SAAUlL,EAAMkN,iBAAiBhC,SACjCY,QAAS9L,EAAMkN,iBAAiBpB,QAChC7L,WAAYA,EACZiK,aAAa,IAIjB,kBAAClE,EAAD,CACElC,KAAM9D,EAAM0F,eACZU,WAAYZ,EAAYxF,EAAM0F,eAAgB1F,EAAMmN,aACpDxG,KAAM3G,EAAMmN,YACZlN,WAAYA,IAEd,6BACA,8B,kCC1HAmN,EAAgB,GAAhBA,EAA2B,GAA3BA,EAAuC,GAAvCA,EAAiD,GAOjDC,EAAUhJ,SAASiJ,cAAc,OACvCD,EAAQlO,UAAY,cACpBkO,EAAQ1N,MAAM0C,QAAU,OACxB,IAAMkL,EAAalJ,SAASiJ,cAAc,OAC1CC,EAAWpO,UAAY,aACvBoO,EAAWnJ,GAAK,eAChB,IAAMoJ,EAAenJ,SAASiJ,cAAc,OAE5CE,EAAarO,UAAY,eACzBkO,EAAQI,YAAYD,GACpBH,EAAQI,YAAYF,GAEpB,IAAIG,EAAqB,GAEnBC,EAAOC,MAEVC,OAAO,CACN,CAAC,EAAG,GACJ,CA3BU,IACC,OA4BZC,YAAY,CAAC,EAAG,IAEnB,SAASC,EAAWjK,GAelB,MAAO,CAAEkK,EAdCJ,MAEPK,OAAOL,IAAU9J,GAAM,SAACoK,GAAD,OAAOA,EAAEF,MAChCG,MAAM,CAACf,EAnCE,IAmCmBA,IAWhBgB,EATLR,MAEPK,OAAOL,IAAU9J,GAAM,SAACoK,GAAD,OAAOA,EAAEE,MAChCD,MAAM,CAACf,EAvCG,IAuCkBA,IAMViB,EAJXT,MAEPK,OAAOnK,EAAKzC,KAAI,SAAC6M,GAAD,OAAOA,EAAEI,UACzBH,MAAMP,MA8EX,SAASW,EAAgBC,EAAGN,GAK1BX,EAAWjO,IACToO,EAAqB,IAAME,IAAUY,EAAE3O,QAAQ4O,KAAK,MAAQ,OAC9DpB,EAAQ1N,MAAM0C,QAAU,QACxBmL,EAAakB,UAAYR,EAAEI,MAC3BV,IAAUY,EAAE3O,QACT4O,KAAK,iBAAkB,GACvBA,KAAK,eAhIe,IAiIpBA,KAAK,aAAc,QAGxB,SAASE,EAAeH,GACtBnB,EAAQ1N,MAAM0C,QAAU,OAExBuL,IAAUY,EAAE3O,QACT4O,KAAK,iBAAkB,IACvBA,KAAK,eA1IgB,GA6IX,SAASG,EAAY5O,GAClC,IAAMC,EAAaD,EAAMC,WACnBwJ,EAASxJ,EAAWwJ,OAKpBoF,EAAYhF,iBAAO,MAGnBiF,EACJ7O,EAAWE,SACX,0BACAF,EAAWG,QAAQC,KACnB,IACAJ,EAAWsG,MAAMlG,KACjB,IACAJ,EAAWwG,MAAMpG,KACjB,QAuDF,OArDAqN,EACEzN,EAAWE,SACX,8BACAF,EAAWG,QAAQC,KACnB,IAEFqG,qBAAU,WAESnD,EAAauL,GACnBpL,MAAK,SAAUI,GACpBA,KA/FV,SAAqBA,GAAO,IAAD,EACLiK,EAAWjK,GAAvBkK,EADiB,EACjBA,EAAGI,EADc,EACdA,EAAGC,EADW,EACXA,EACRU,EAAMnB,IAAU,eAEtBmB,EAAIC,aAAalH,SAAS,KAAKmH,KAAKtB,EAAKuB,UAAWtB,KACpDA,IAAU,YACPoB,aACAlH,SAAS,KACTmH,KAAKtB,EAAKuB,UAAWtB,KAExBmB,EACGI,UAAU,QACVrL,KAAKA,GACLsL,KAAK,QACLC,GAAG,YAAad,GAChBc,GAAG,WAAYV,GACfK,aACAlH,SAAS,KACT2G,KAAK,KAAK,SAACP,GAAD,iBAAWF,EAAEE,EAAEF,GAAf,YAAqBI,EAAEF,EAAEE,GAAzB,SACVK,KAAK,UAAU,SAACP,GAAD,OAAOG,EAAEH,EAAEI,UAC1BG,KAAK,iBA9FY,IA+FjBA,KAAK,eAjGgB,GAkGrBA,KAAK,MAAM,SAACP,EAAGnN,GAAJ,OAAUA,KAExB,IAAMuO,EAAYjL,SAASC,eAAe,aAC1CgL,EAAUZ,UAAY,GAzBG,oBA2BPL,EAAEJ,UA3BK,IA2BzB,2BAA8B,CAAC,IAApBpI,EAAmB,QACtB0J,EAAYlL,SAASiJ,cAAc,OACnCkC,EAAanL,SAASiJ,cAAc,QACpCmC,EAAepL,SAASiJ,cAAc,OAC5CiC,EAAUpQ,UAAY,cACtBsQ,EAAatQ,UAAY,eACzBsQ,EAAa9P,MAAMgC,gBAAkB0M,EAAExI,GACvC2J,EAAWrQ,UAAY,aACvBqQ,EAAWd,UAAY7I,EACvB0J,EAAU9B,YAAYgC,GACtBF,EAAU9B,YAAY+B,GACtBF,EAAU7B,YAAY8B,IAtCC,+BAgGnBG,CAAY5L,GACZ+K,EAAUzE,QAAUtG,QAGvB,CAACgL,IAEJpI,qBAAU,YAtIZ,SAAmB5C,GAAO,IAAD,EACHiK,EAAWjK,GAAvBkK,EADe,EACfA,EAAGI,EADY,EACZA,EAAGC,EADS,EACTA,EAEdV,EAAK0B,GAAG,QAuBR,YAAgC,IAAdH,EAAa,EAAbA,UAChBS,EAAUlB,KAAK,YAAaS,MAtB9BtB,IAAU,sBAAsBgC,KAAK,IAErC,IAAMb,EAAMnB,IACF,sBACPiC,OAAO,OAEPpB,KAAK,UAAW,CAAC,EAAG,EA5DX,IACC,MA4DVA,KAAK,sBAAuB,QAC5BA,KAAK,iBAAkB,SACvBA,KAAK,QAAS,WAEXkB,EAAYZ,EAAIc,OAAO,KAAKpB,KAAK,QAAS,cAChDkB,EACGR,UAAU,QACVrL,KAAKA,GACLsL,KAAK,QACLX,KAAK,KAAK,SAACP,GAAD,iBAAWF,EAAEE,EAAEF,GAAf,YAAqBI,EAAEF,EAAEE,GAAzB,SACVK,KAAK,UAAU,SAACP,GAAD,OAAOG,EAAEH,EAAEI,UAC1BG,KAAK,iBAjEY,IAkEjBA,KAAK,eAAgB,GAKxBM,EAAIE,KAAKtB,GAAMsB,KAAKtB,EAAKuB,UAAWtB,KA0GlCkC,CAAU,IACVpC,EACE,8BAAgCzN,EAAWG,QAAQC,KACrDkN,EAAWjO,IAAM,+CACjB+E,SAASC,eAAe,kBAAkByL,QAAQ1C,KACjD,CAACpN,EAAWG,QAAQC,OAEvBqG,qBAAU,WAUR,IAAIsJ,EAAY,KAIhB,OAHIvG,EAAOlH,OAAO0N,QAChBD,EAAYE,aAXd,WAEMzG,EAAOlH,OAAO0N,OAChBxG,EAAO1C,OAAO6C,eACXH,EAAOlH,OAAOqH,cAAgB,GAAK3J,EAAWsG,MAAM0B,OAAOrF,UA1C9C,MAmDb,WACLuN,cAAcH,MAEf,CACDvG,EAAOlH,OAAO0N,MACdxG,EAAOlH,OAAOqH,cACdH,EAAO1C,OACP9G,EAAWsG,MAAM0B,SAQjB,yBAAK7D,GAAG,gBAAgBjF,UAAU,sBAChC,yBAAKA,UAAU,IACb,yBAAKA,UAAU,sBAAsBiF,GAAG,aACrC,IADH,SAES,KAET,yBAAKjF,UAAU,oBACb,yBAAKA,UAAU,2BACb,yBAAKA,UAAU,mBAEb,yBAAKA,UAAU,2BACb,yBAAKA,UAAU,qCACb,yBACEyC,QAlBlB,WACE6H,EAAO1C,OAAOkJ,OAAOxG,EAAOlH,OAAO0N,QAkBnB9Q,UACE,qFAIAsK,EAAOlH,OAAO0N,OACd,kBAAC,IAAD,CACEtQ,MAAO,CAAEyQ,KAAM,SACfjR,UAAU,6BAGbsK,EAAOlH,OAAO0N,OACb,kBAAC,IAAD,CACEtQ,MAAO,CAAEyQ,KAAM,SACfjR,UAAU,8BAIhB,yBAAKA,UAAU,4CACZsK,EAAOlH,OAAO0N,MAAQ,QAAU,mBAMvC,yBAAK9Q,UAAU,4BACb,0BAAMA,UAAU,0BAAhB,WACA,0BAAMA,UAAU,gBACb,IACD,0BAAMA,UAAU,mBACb,IACAc,EAAWwG,MAAMkF,YAAa,KAEjC,mCAAS1L,EAAWsG,MAAM8F,cAKlC,yBACEjI,GAAG,iBACHjF,UAAU,+C,sBC9RP,SAASkR,GAAUrQ,GAChC,IAAMC,EAAaD,EAAMC,WACnBwJ,EAASxJ,EAAWwJ,OACpBxB,EAASjI,EAAM0J,OAAOD,EAAOlH,OAAOoH,eAAe1B,OAazD,IAAMqI,EAActQ,EAAMkL,SAAS7J,KAAI,SAACyC,EAAM/C,GAC5C,OACE,kBAACwP,EAAA,EAAD,CACE7N,MAAOoB,EAAKzD,KACZmQ,KAAM1M,EAAKzD,KACXqB,IAAK,aAAeX,OAKpB0P,EAAYzQ,EAAM0J,OAAOrI,KAAI,SAACyC,EAAM/C,GACxC,OACE,kBAACwP,EAAA,EAAD,CACE7N,MAAOoB,EAAKzD,KACZmQ,KAAM1M,EAAKzD,KACXqB,IAAK,aAAeX,OAKpB2P,EAAYzI,EAAO5G,KAAI,SAACyC,EAAM/C,GAClC,OACE,kBAACwP,EAAA,EAAD,CACE7N,MAAOoB,EAAK6H,YAAc,IAAM7H,EAAKzD,KACrCmQ,KAAM1M,EAAK6H,YAAc,IAAM7H,EAAKzD,KACpCqB,IAAK,aAAeX,OAKpB4P,EACJ1Q,EAAWE,SAAW,4BAA8BF,EAAWG,QAAQiL,KAEnEuF,EACJ3Q,EAAWE,SACX,kBACAF,EAAWsG,MAAMlG,KACjB,IACAJ,EAAWsG,MAAM0B,OAAOhI,EAAWsG,MAAM0B,OAAOrF,OAAS,GAAGvC,KAC5D,SAEIwQ,EACJ5Q,EAAWE,SACX,kBACAF,EAAWsG,MAAMlG,KACjB,IACAJ,EAAWwG,MAAMpG,KACjB,SAEF,OACE,yBAAKlB,UAAU,8BACb,6BACE,yBAAKA,UAAU,oBACb,yBAAKA,UAAU,QAAf,WAEE,0BAAMA,UAAU,YAAhB,IAA6Bc,EAAWG,QAAQC,MAAa,KAE/D,yBAAKlB,UAAU,UACb,yBACEI,IAAI,GACJD,IAAKqR,EACLxR,UAAU,uCAEZ,kBAAC2R,EAAA,EAAD,CACEC,aAAc9Q,EAAWG,QAAQC,KACjCV,MAAO,CAAEqR,MAAO,SAChB7R,UAAU,OACV8R,WAAW,EACXC,SA/EZ,SAAuB1C,GACrB/E,EAAO1C,OAAOuE,gBAAgBkD,EAAE3O,OAAOsR,gBA+E7B/M,GAAG,kBACHgN,UAAU,WAETd,KAKP,yBAAKnR,UAAU,oBACb,yBAAKA,UAAU,QAAf,SAEE,0BAAMA,UAAU,YAAhB,IAA6Bc,EAAWsG,MAAMlG,MAAa,KAE7D,yBAAKlB,UAAU,UACb,yBACEI,IAAI,GACJD,IAAKsR,EACLzR,UAAU,uCAGZ,kBAAC2R,EAAA,EAAD,CACEC,aAAc9Q,EAAWsG,MAAMlG,KAC/BlB,UAAU,OACVQ,MAAO,CAAEqR,MAAO,SAChBC,WAAW,EACXC,SArGZ,SAAqB1C,GACnB/E,EAAO1C,OAAO4C,cAAc6E,EAAE3O,OAAOsR,gBAqG3B/M,GAAG,gBACHgN,UAAU,SAETX,KAIP,yBACEtR,UACE,oBAAsBsK,EAAOlH,OAAO0N,MAAQ,gBAAkB,KAGhE,yBAAK9Q,UAAU,QAAf,SAEE,0BAAMA,UAAU,YACb,IACAc,EAAWwG,MAAMkF,YAAc,IAAM1L,EAAWwG,MAAMpG,KAAM,KACvD,KAEV,yBAAKlB,UAAU,UACb,yBACEI,IAAI,GACJD,IAAKuR,EACL1R,UAAU,uCAGZ,kBAAC2R,EAAA,EAAD,CACEC,aACE9Q,EAAWwG,MAAMkF,YAAc,IAAM1L,EAAWwG,MAAMpG,KAExDV,MAAO,CAAEqR,MAAO,SAChB7R,UAAU,OACV8R,WAAW,EACXC,SApIZ,SAAqB1C,GACnB/E,EAAO1C,OAAO6C,cAAc4E,EAAE3O,OAAOsR,gBAoI3B/M,GAAG,iBACHgN,UAAU,8BAETV,OCzIA,SAASW,GAAcrR,GAGpC,IAAMkN,EAAmBlN,EAAMkN,iBACzBjN,EAAaD,EAAMC,WAMzB,OAJAyG,qBAAU,WACRrC,SAASuI,MAAT,oCACC,IAGD,6BACE,yBAAKzN,UAAU,SACb,yBAAKA,UAAU,YACb,yBAAKA,UAAU,yCACb,yBAAKA,UAAU,kBAAf,0CAGA,0BAAMA,UAAU,QAAhB,wNAUN,kBAACkR,GAAD,CACE3G,OAAQwD,EAAiBxD,OACzBwB,SAAUgC,EAAiBhC,SAC3BY,QAASoB,EAAiBpB,QAC1BG,aAAciB,EAAiBjB,aAC/BhM,WAAYA,IAEd,kBAAC2O,EAAD,CACElF,OAAQwD,EAAiBxD,OACzBwB,SAAUgC,EAAiBhC,SAC3BjL,WAAYA,IAGd,6BACA,6BACA,8B,6DC7CS,SAASqR,GAAqBtR,GAC3C,IAEMoB,IAFgBpB,EAAMgB,iBAEiB,IAAIuQ,KAAO,IAAIlQ,KAC1D,SAACC,EAASP,GACR,OACE,yBACEW,IAAKX,EAAI,SACT5B,UAAU,qDAEV,yBACEuC,IAAKX,EAAI,QAAUO,EAEnBhC,IAAKgC,EACL/B,IAAI,GACJJ,UAAW,oCACX2C,WAAYf,QAOtB,OACE,yBACEpB,MAAO,CACL0C,QAASrC,EAAMgB,gBAAkB,GAAK,QAExC7B,UAAU,QAEV,yBAAKA,UAAU,KAAKiC,ICtB1B,IAAMoQ,GAAmB,CAAC,aAAc,aAClCC,GAAwB,CAAC,MAAO,OAAQ,OACxCC,GAAK,kBAEI,SAASC,GAAiB3R,GACvC,IAD8C,EAENkG,mBAAS,MAFH,mBAEvC0L,EAFuC,KAEzBC,EAFyB,OAGN3L,mBAAS,MAHH,mBAGvC4L,EAHuC,KAGzBC,EAHyB,OAIA7L,oBAAS,GAJT,mBAIvC8L,EAJuC,KAItBC,EAJsB,OAKE/L,mBAAS,GALX,mBAKvCgM,EALuC,KAKrBC,EALqB,OAMVjM,oBAAS,GANC,mBAMvCkM,EANuC,KAM3BC,EAN2B,KAQxCpS,EAAaD,EAAMC,WACnBqS,EAAYrS,EAAWE,SAAW,UAIlCoS,EAAY,CAChB,kEACA,+DACA,kEACA,iEACA,gEACA,kEACA,kEACA,kEACA,kEA0CF,SAASC,EAAa1O,EAAM2O,GAC1BR,GAAmB,GAEnB,IThB8BS,ESgB1BC,EAAa,KACjB,GAAIF,ETjB0BC,ESkBS,CAAEE,QAASH,GAAhDE,ETjBGlP,MSiBuB6O,ETjBZ,CAChBO,OAAQ,OACRC,KAAMC,KAAKC,UAAUN,GACrBO,QAAS,CACP,eAAgB,sBAGjBvP,MAAK,SAAUC,GACd,OAAwB,MAApBA,EAASC,QACXG,QAAQC,IACN,gDAAkDL,EAASC,QAEtDsP,QAAQC,OAAOxP,EAASC,SAE1BD,EAASE,OAAOH,MAAK,SAAUI,GACpC,OAAOA,QAGVG,OAAM,SAAUC,GACf,OAAOgP,QAAQC,OAAOjP,USDjB,CACL,IAAMkP,EAAW,IAAIC,SACrBD,EAASvD,OAAO,OAAQ/L,GACxBsP,EAASvD,OAAO,UAAW5P,EAAWG,QAAQC,MAC9C+S,EAASvD,OAAO,UAAW4C,GAC3BE,ETAC,SAAoBnP,EAAKkP,GAC9B,OAAOjP,MAAMD,EAAK,CAChBqP,OAAQ,OACRC,KAAMJ,IAELhP,MAAK,SAAUC,GACd,OAAwB,MAApBA,EAASC,QACXG,QAAQC,IACN,gDAAkDL,EAASC,QAEtDsP,QAAQC,OAAOxP,EAASC,SAE1BD,EAASE,OAAOH,MAAK,SAAUI,GACpC,OAAOA,QAGVG,OAAM,SAAUC,GACf,OAAOgP,QAAQC,OAAOjP,MSjBToP,CAAWhB,EAAWc,GAErCT,EACGjP,MAAK,SAAUI,GACVA,IACFiO,EAAgBjO,GAChBmO,GAAmB,GACnBI,GAAc,OAGjBpO,OAAM,SAACH,GACNC,QAAQC,IAAI,aACZiO,GAAmB,GACnBI,GAAc,GACdN,EAAgB,SAItB,SAASwB,EAAYC,GACnB,IAAMC,EAAgBjC,GAAiBkC,SAASF,EAAKlH,MAC/CqH,EAAgBH,EAAK1K,KAAL,QA9FJ,EA+Fd8K,EAAgBH,EAA8C,GAA9B,4BACpCG,EAAgBD,EAEZC,EADA,8BAEJ,IAAMC,EAAW,CACfxT,KAAMmT,EAAKnT,KACXyT,SAAUN,EAAK1K,KAAL,QACVA,KAAM0K,EAAK1K,KACXwD,KAAMkH,EAAKlH,KACXyH,MAAOJ,GAAiBF,EACxBD,KAAMA,EAAKA,KACXQ,MAAOJ,GAELC,EAASE,MACXvB,EAAagB,EAAM,MAEnBzB,EAAgB,MAElBkC,EAAiBC,IAAIC,gBAAgBX,IACrC3B,EAAgBgC,GAGlB,SAASI,EAAiBzQ,GACNa,SAASC,eAAe,iBAChChF,IAAMkE,EAYlB,SAAS4Q,EAAiBrT,GACxBsT,EAAU9B,EAAUxR,IACpBoR,EAAoBpR,GACpBsD,SAASC,eAAe,YAAY5B,MAAQ6P,EAAUxR,GAGxD,SAASsT,EAAU7Q,GACjB,IAAMqQ,EAAW,CACfxT,KAAMoC,EAAiBe,EAAI8Q,MAAM,OAAO,GAAI,IAC5CP,OAAO,GAEHQ,EAAU7C,GAAG8C,KAAKhR,GAAK,GACzBiO,GAAsBiC,SAASa,IACjC/B,EAAa,KAAMhP,GACnByQ,EAAiBzQ,KAEjBqQ,EAASE,OAAQ,EACjBF,EAASG,MAAQ,2BACjBjC,EAAgB,OAGlBF,EAAgBgC,GAhIlBnN,qBAAU,WACR,SAAS+N,EAAQjG,GAEfA,EAAEkG,kBACF,IAAMC,EAAOnG,EAAEoG,cAAcC,MAAM,GAC/BrD,GAAiBkC,SAASiB,EAAKrI,OACjCiH,EAAYoB,EAAKG,aAIrB,SAASC,EAAOvG,GACdA,EAAEwG,iBACFxG,EAAEkG,kBACF,IAAIlB,EAAOhF,EAAEyG,aAAaC,MAAM,GAChCnR,QAAQC,IAAIwK,EAAEyG,cACVzB,GACFD,EAAY/E,EAAEyG,aAAaC,MAAM,IAGrC,SAASC,EAAO3G,GACdA,EAAEkG,kBACFlG,EAAEwG,iBACFxG,EAAEyG,aAAaG,WAAa,OAM9B,OAHA9P,OAAOqF,iBAAiB,QAAS8J,GACjCnP,OAAOqF,iBAAiB,WAAYwK,GACpC7P,OAAOqF,iBAAiB,OAAQoK,GACzB,WACLzP,OAAO0F,oBAAoB,QAASyJ,GACpCnP,OAAO0F,oBAAoB,WAAYmK,GACvC7P,OAAO0F,oBAAoB,OAAQ+J,MAEpC,IAEHrO,qBAAU,WACR0N,EAAiBlC,KAChB,IA8FH,IAAMmD,EAAWzD,EACf,kBAAC0D,GAAA,EAAD,CACE5T,IAAK,WACLrB,KAAMuR,EAAavR,KACnBuD,OAAQ,OACR2R,aAAc,cACdC,UAAW5D,EAAaoC,MACxByB,SAAU7D,EAAamC,MACvB2B,SApCJ,SAAyBlH,OAsCrB,KAEEmH,EAAUpD,EAAUlR,KAAI,SAACyC,EAAM/C,GACnC,OACE,yBACEqD,GAAIrD,EACJxB,IAAI,GACJmC,IAAK,WAAaX,EAClBa,QAAS,WACPwS,EAAiBrT,IAEnB5B,UACE,iCACC+S,IAAqBnR,EAAI,UAAY,IAExCzB,IAAKwE,OAKX,OACE,oCACGsO,GACC,yBAAKjT,UAAU,6BAAf,kCAID6S,GAAmB,kBAAC4D,GAAA,EAAD,MAGpB,yBAAKzW,UAAU,aACb,6BACE,yBACEI,IAAI,GACJ6E,GAAG,gBACHjF,UACE,mCACEyS,GAAgB,IAAImC,MAAQ,IAAM,iBAGxC,yBAAK5U,UAAU,aAAf,IAA6BkW,IAE/B,yBAAKlW,UAAU,aACb,kBAACsI,EAAA,EAAD,CAAMC,SAAU,GACd,kBAACC,EAAA,EAAD,CAAKvD,GAAG,WAAWwD,MAAM,aACvB,yBAAKzI,UAAU,aACb,kBAAC0W,GAAA,EAAD,CACE1W,UAAU,WACViF,GAAG,WACH2M,aAAcwB,EAAUL,GACxBd,UAAU,yBACVH,WAAW,IAEb,kBAAC6E,GAAA,EAAD,CACElU,QAAS,WACPyS,EAAUhQ,SAASC,eAAe,YAAY5B,QAEhDoG,KAAK,SAJP,WASF,6BAAM6M,IAER,kBAAChO,EAAA,EAAD,CAAKvD,GAAG,aAAawD,MAAM,wBACzB,yBAAKzI,UAAU,QACb,yBAAKA,UAAU,iBACZ,IADH,iCAEiC,KAEjC,yBAAKA,UAAU,SACZ,2CAEH,kBAAC4W,GAAA,EAAD,CACE3E,UAAU,SACV4E,qBAAqB,EAErB3V,KAAK,gBACL4V,UAAU,EACVC,OAAQ,CAAC,aAAc,aACvBhF,SA3HhB,SAAqB1C,GAEnB+E,EADa/E,EAAE3O,OAAOqV,MAAM,YAmIzBpD,GACC,yBAAK3S,UAAU,4BACZ2S,EAAaP,IAAI3O,OADpB,oBAC6C,IAC3C,0BAAMzD,UAAU,YAAhB,8BAA6D,IAC5D2S,EAAaqE,WAAWnU,QAAQ,GAHnC,MAG0C,IACxC,0BAAM7C,UAAU,YAAhB,kBAAiD,IAChD2S,EAAasE,eAAepU,QAAQ,GALvC,KAQF,kBAACsP,GAAD,CACEtQ,gBAAiB8Q,EACjB7R,WAAYD,EAAMC,cC/RX,SAASoW,GAAerW,GAKrC,OAJA0G,qBAAU,WACRrC,SAASuI,MAAT,8CACC,IAGD,oCACE,yBAAKzN,UAAU,aACb,yBAAKA,UAAU,YACb,yBAAKA,UAAU,mEAAf,uFAGE,yBAAKA,UAAU,cAAf,sKAQN,kBAACwS,GAAD,CAAkB1R,WAAYD,EAAMC,cCpB3B,SAASqW,GAAiBtW,GAKvC,OAJA0G,qBAAU,WACRrC,SAASuI,MAAT,8CACC,IAGD,oCACE,yBAAKzN,UAAU,aACb,yBAAKA,UAAU,YACb,yBAAKA,UAAU,mEAAf,uFAGE,yBAAKA,UAAU,cAAf,uK,aCINoX,GAAUC,aAAqB,CACnCC,SAAU,GACVC,cAAc,EACdC,UAAW,EAEXC,oBAAqB,SAACC,EAASC,GAAV,OAAuBA,EAASxR,OAAOyR,QAAQF,OAGtEN,GAAQS,QAAO,SAACC,OAIhB,IAAIC,GAAa,GAEjB,SAASC,GAASF,GACZA,EAASG,QAAQF,GACnBA,GAAWD,EAASG,MAAQF,GAAWD,EAASG,MAAQ,EAExDF,GAAWD,EAASG,MAAQ,EAQjB,SAASC,KACtB,IAAMnK,EAAmB5F,EAAQ,KAC3BgQ,EAAqBhQ,EAAQ,KAFN,EAMiBpB,mBAAS,GAN1B,mBAMtBoF,EANsB,KAMLiM,EANK,OAOarR,mBAAS,GAPtB,mBAOtByD,EAPsB,KAOP6N,EAPO,OAQ+BtR,mBAAS,GARxC,mBAQtB6F,EARsB,KAQE0L,EARF,OASavR,mBAAS,GATtB,mBAStB0D,EATsB,KASP8N,EATO,OAUWxR,oBAAS,GAVpB,mBAUtBsG,EAVsB,KAURE,EAVQ,OAWaxG,oBAAS,GAXtB,mBAWtB1D,EAXsB,KAWPmV,EAXO,OAYezR,oBAAS,GAZxB,mBAYtBY,EAZsB,KAYN2F,EAZM,OAaSvG,oBAAS,GAblB,mBAatB0R,EAbsB,KAaTC,EAbS,KAe7BnR,qBAAU,WACRrC,SAASuI,MAAT,gDACAuK,GAAS7R,OAAO2R,YACf,IAEH,IAAM9J,EAAcD,EAAgB,SAAa5B,GAC3C5F,EAAiB4R,EAAmBnQ,QAAQgG,EAAY9M,MAExDJ,EAAa,CACjBG,QAAS8M,EAAiBhC,SAASI,GACnC/E,MAAO2G,EAAiBxD,OAAOC,GAC/BlD,MAAOyG,EAAiBxD,OAAOC,GAAe1B,OAAO2B,GACrDpD,OAAQ0G,EAAiBpB,QAAQC,GACjCrL,WAzBiB,GA0BjBP,SAAU2X,GACVxV,KAAM,CACJC,OAAQ,CACNC,cAAeA,EACf4J,SAAUI,EACV1F,eAAgBA,GAElBC,OAAQ,CACNvE,cAAemV,EACf7Q,eAAgB2F,EAChBL,SAAUM,IAGdjM,WACE6W,EAAmB7W,WACjByM,EAAiBhC,SAASI,GAAiBjL,MAE/CoJ,OAAQ,CACNlH,OAAQ,CACN+I,gBAAiBA,EACjB3B,cAAeA,EACfoC,uBAAwBA,EACxBnC,cAAeA,EACfqG,MAAO2H,GAET7Q,OAAQ,CACNuE,gBAAiBiM,EACjB5N,cAAe6N,EACfzL,uBAAwB0L,EACxB7N,cAAe8N,EACfzH,MAAO4H,IAGX5R,UAAWqR,EAAmBrR,UAC9BkB,QAASmQ,EAAmBnQ,SAG9B,OACE,kBAAC,IAAD,KACE,6BACE,kBAACjI,EAAD,MACA,0BAAMC,UAAU,uBACd,kBAAC,IAAD,CACEK,OAAK,EACLsG,KAAK,IACLiS,OAAQ,SAAC/X,GAAD,OACN,kBAACuM,EAAD,iBACMvM,EADN,CAEEC,WAAYA,EACZkN,YAAaA,EACbzH,eAAgBA,EAChBwH,iBAAkBA,QAIxB,kBAAC,IAAD,CACE1N,OAAK,EACLsG,KAAK,cACLiS,OAAQ,SAAC/X,GAAD,OACN,kBAAC,GAAD,iBACMA,EADN,CAEEC,WAAYA,EACZiN,iBAAkBA,QAIxB,kBAAC,IAAD,CACE1N,OAAK,EACLsG,KAAK,cACLiS,OAAQ,SAAC/X,GAAD,OACN,kBAACqW,GAAD,iBACMrW,EADN,CAEEC,WAAYA,EACZiN,iBAAkBA,QAKxB,kBAAC,IAAD,CACE1N,OAAK,EACLsG,KAAK,gBACLiS,OAAQ,SAAC/X,GAAD,OACN,kBAACsW,GAAD,iBAAsBtW,EAAtB,CAA6BC,WAAYA,UAMjD,yBAAKmE,GAAG,UACN,kBAAC,EAAD,QA1HRmS,GAAQS,QAAO,SAACC,GACdE,GAASF,MC9BSe,QACW,cAA7B1S,OAAO2R,SAASgB,UAEe,UAA7B3S,OAAO2R,SAASgB,UAEhB3S,OAAO2R,SAASgB,SAASC,MACvB,2DCXNC,IAASJ,OAAO,kBAAC,GAAD,MAAS1T,SAASC,eAAe,SD4H3C,kBAAmB8T,WACrBA,UAAUC,cAAcC,MACrB5U,MAAK,SAAA6U,GACJA,EAAaC,gBAEdvU,OAAM,SAAA+P,GACLjQ,QAAQiQ,MAAMA,EAAM6C,a,iBEzI5B4B,EAAOC,QAAU,2V","file":"static/js/main.8094e54b.chunk.js","sourcesContent":["/**\n * @license\n * Copyright 2019 Fast Forward Labs.\n * Written by / Contact : https://github.com/victordibia\n * NeuralQA - NeuralQA: Question Answering on Large Datasets with BERT.\n * Licensed under the MIT License (the \"License\");\n * =============================================================================\n */\n\nimport React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport \"./header.css\";\n\nexport default function Header() {\n  const appName = \"ConvNet Playground\";\n  const appDescription = \"ConvNet Playground\";\n  return (\n    <div>\n      <div className=\"headermain\" aria-label={appDescription}>\n        <div className=\"container-fluid w100 headerrow pl10 \">\n          <div className=\"flex    h100\">\n            <div className=\"h100   flex flexjustifycenter mr10  \">\n              <a href={process.env.PUBLIC_URL + \"/#\"}>\n                <img\n                  className=\"headericon\"\n                  src=\"images/icon.png\"\n                  alt=\"NeuralQA logo\"\n                />\n              </a>\n            </div>\n            <div className=\"h100 apptitle  flex flexjustifycenter  mr10\">\n              <div className=\"whitetext boldtext  iblock mr10\"> {appName} </div>\n            </div>\n            <div className=\"h100   flex flexjustifycenter  navbarlinks \">\n              <NavLink exact to=\"/\">\n                Semantic Search{\" \"}\n              </NavLink>\n            </div>\n            <div className=\"h100   flex flexjustifycenter  navbarlinks \">\n              <NavLink exact to=\"/embeddings\">\n                Embeddings{\" \"}\n              </NavLink>\n            </div>\n            <div className=\"h100   flex flexjustifycenter  navbarlinks \">\n              <NavLink exact to=\"/livesearch\">\n                Live Search{\" \"}\n              </NavLink>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div></div>\n      <div className=\"headerboost\"> </div>\n    </div>\n  );\n}\n","/**\n * @license\n * Copyright 2019 Fast Forward Labs.\n * Written by Victor Dibia / Contact : https://github.com/victordibia\n * CaseQA - CaseQA: Question Answering on Large Datasets with BERT.\n * Licensed under the MIT License (the \"License\");\n * =============================================================================\n */\n\nimport React, { Component } from \"react\";\nimport \"./footer.css\";\n\nclass Footer extends Component {\n  render() {\n    return (\n      <div style={{ zIndex: 999000 }} className=\"centerpage pl10\">\n        Made with <span className=\"redcolor\">&#9829;</span> at{\" \"}\n        <a href=\"http://experiments.fastforwardlabs.com/\" target=\"blank\">\n          Cloudera Fast Forward Labs\n        </a>\n        .\n      </div>\n    );\n  }\n}\n\nexport default Footer;\n","/**\n * @license\n * Copyright 2019 Fast Forward Labs.\n * Written by / Contact : https://github.com/victordibia\n * NeuralQA - NeuralQA: Question Answering on Large Datasets with BERT.\n * Licensed under the MIT License (the \"License\");\n * =============================================================================\n */\n\nimport React from \"react\";\nimport { Tooltip } from \"carbon-components-react\";\nimport \"./similarityview.css\";\nexport default function SimilarityView(props) {\n  const selections = props.selections;\n\n  const imageBasePath =\n    selections.basePath +\n    \"/assets/semsearch/datasets/\" +\n    selections.dataset.name +\n    \"/\";\n  const selectedImagePath = imageBasePath + props.selectedImage + \".jpg\";\n  const selectedCat = selections.dictionary[props.selectedImage];\n\n  const topSimilar = selections.topSimilar;\n  let simCount = 0;\n  let modelScore = 0;\n  let totalScore = 0;\n  let incorrectResults = [];\n\n  for (var i in props.similarityArray.slice(1, topSimilar + 1)) {\n    if (\n      String(selectedCat) ===\n      String(selections.dictionary[props.similarityArray[i]])\n    ) {\n      simCount++;\n      modelScore += (topSimilar - i) / topSimilar;\n    } else {\n      incorrectResults.push(props.similarityArray[i]);\n    }\n    totalScore += (topSimilar - i) / topSimilar;\n  }\n\n  // console.log(selectedImagePath);\n\n  const similarImagesList = props.similarityArray.map((alldata, index) => {\n    let imagePath = imageBasePath + alldata + \".jpg\";\n    // console.log(imagePath)\n\n    let correctCategory =\n      selections.dictionary[props.selectedImage] ===\n      selections.dictionary[alldata];\n    return (\n      <div\n        key={alldata + \"winper\"}\n        className=\"iblock similarityfullbox mr5 mb5 positionrelative\"\n      >\n        <div\n          style={{ backgroundColor: correctCategory ? \"green\" : \"red\" }}\n          className=\"trigreen\"\n        ></div>\n\n        <img\n          key={alldata + \"image\" + alldata}\n          // onMouseOver={this.hoverSimilarImage.bind(this)}\n          onClick={() => props.setSelectedImage(alldata)}\n          src={imagePath}\n          alt=\"\"\n          className={\"simiimage simcomp clickable rad2 \"}\n          indexvalue={alldata}\n        />\n      </div>\n    );\n  });\n\n  const searchPerformanceBox = (\n    <div className=\"floatleft iblock mr10 rad3 \">\n      {/* <div className=\"pb5 smalldesc \"> Search result score </div> */}\n      <div className=\"topscorediv\">\n        <div className=\"mainscore  topmainscore\">\n          {((modelScore / totalScore) * 100).toFixed(1) + \"%\"}\n        </div>\n\n        <div className=\"weightedscore smalldesc textaligncenter\">\n          <Tooltip direction={\"right\"} triggerText=\"What is this?\">\n            <div className=\"wscore\">\n              This is the percentage of returned results that belong to the same\n              category as the selected image (weighted by position in the result\n              list). For the current search, &nbsp;\n              <strong>\n                {simCount} / {topSimilar} results\n              </strong>\n              &nbsp; are in the same category &nbsp;\n              <strong>({selectedCat.toUpperCase()})</strong>. Note that this\n              score is conservative - some images may belong to different\n              classes but are <span className=\"italics\"> similar </span> (e.g\n              the classes - sedan, beetle, ferrari - are{\" \"}\n              <span className=\"italics\">all</span>\n              cars).\n            </div>\n          </Tooltip>\n        </div>\n      </div>\n    </div>\n  );\n\n  return (\n    <div\n      style={{\n        display: selections.show.getter.similarDrawer ? \"\" : \"none\",\n      }}\n      className=\" mb10\"\n    >\n      <div className=\"sliderboxcontainer transition3s\">\n        <div className={\" sliderbox topconfig\" + (true ? \" open\" : \" closed\")}>\n          <div className=\"glowbar transitionw6s mb7 w0\"></div>\n          <div className=\"flex \">\n            <div className=\"iblock h100 positionrelative  mr10\">\n              <img\n                src={selectedImagePath}\n                className=\"mainsimilarityimage rad4  iblock\"\n                alt=\"\"\n              />\n              <div className=\"mt5  mainsimilaritytitle  p10  lightbluehightlight\">\n                <div className=\"boldtext iblock mediumdesc mr5\">\n                  SELECTED IMAGE\n                </div>\n                <div className=\"iblock smalldesc pt5 \">\n                  {selectedCat.toUpperCase()} <strong> </strong>\n                </div>\n              </div>\n\n              {/* <div> searchimi number {this.state.selectedsimimage}</div> */}\n            </div>\n            <div className=\" flexfull\">\n              <div className=\"scrollwindow simiwindow  \">\n                {searchPerformanceBox}\n                {similarImagesList.slice(1, topSimilar)}\n                <br />\n                <br />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import ReactGA from \"react-ga\";\nimport { shuffle } from \"lodash\";\nReactGA.initialize(\"UA-53030428-17\");\n\nexport function registerGAEvent(\n  componentName,\n  eventCategory,\n  eventAction,\n  componentLoadTime\n) {\n  let eventTime = new Date().getTime() - componentLoadTime;\n  if (window.location.hostname !== \"localhost\") {\n    console.log(\"GA\", eventCategory, eventTime, eventAction, componentName);\n    ReactGA.event({\n      category: eventCategory,\n      action: eventAction,\n      value: eventTime,\n      label: componentName,\n    });\n  }\n}\n\nexport function abbreviateString(value, maxLength) {\n  if (value.length <= maxLength) {\n    return value;\n  } else {\n    let retval = value.substring(0, maxLength) + \" ..\";\n    return retval;\n  }\n}\n\nexport function boundWidth(widthVal) {\n  if (widthVal < 0) {\n    return 0;\n  } else if (widthVal > 1) {\n    return 1;\n  } else {\n    return widthVal;\n  }\n}\n\nfunction intlFormat(num) {\n  return new Intl.NumberFormat().format(Math.round(num * 10) / 10);\n}\nexport function makeFriendly(num) {\n  if (num < 1 && num > 0) {\n    return num;\n  }\n  if (Math.abs(num) >= 1000000) return intlFormat(num / 1000000) + \"M\";\n  if (Math.abs(num) >= 1000) return intlFormat(num / 1000) + \"k\";\n  return intlFormat(num);\n}\n\nexport function loadJSONData(url) {\n  return fetch(url)\n    .then(function (response) {\n      if (response.status !== 200) {\n        console.log(\n          \"Looks like there was a problem. Status Code: \" + response.status\n        );\n        return;\n      }\n      // Examine the text in the response\n      //    response.text().then(function(data){\n      //        console.log(data)\n      //    })\n      return response.json().then(function (data) {\n        return data;\n      });\n    })\n    .catch(function (err) {\n      console.log(\"Fetch Error :-S\", err);\n    });\n}\n\nexport function postJSONData(url, postData) {\n  return fetch(url, {\n    method: \"post\",\n    body: JSON.stringify(postData),\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  })\n    .then(function (response) {\n      if (response.status !== 200) {\n        console.log(\n          \"Looks like there was a problem. Status Code: \" + response.status\n        );\n        return Promise.reject(response.status);\n      }\n      return response.json().then(function (data) {\n        return data;\n      });\n    })\n    .catch(function (err) {\n      return Promise.reject(err);\n    });\n}\n\nexport function uploadFile(url, postData) {\n  return fetch(url, {\n    method: \"post\",\n    body: postData,\n  })\n    .then(function (response) {\n      if (response.status !== 200) {\n        console.log(\n          \"Looks like there was a problem. Status Code: \" + response.status\n        );\n        return Promise.reject(response.status);\n      }\n      return response.json().then(function (data) {\n        return data;\n      });\n    })\n    .catch(function (err) {\n      return Promise.reject(err);\n    });\n}\n\nexport function getFileFromUrl(url, defaultType = \"image/jpeg\") {\n  return fetch(url, {})\n    .then(function (response) {\n      if (response.status !== 200) {\n        console.log(\n          \"Looks like there was a problem. Status Code: \" + response.status\n        );\n        return Promise.reject(response.status);\n      }\n      return response.blob().then(function (data) {\n        return new File(\n          [data],\n          \"File : \" + response.headers.get(\"content-type\"),\n          {\n            type: response.headers.get(\"content-type\") || defaultType,\n          }\n        );\n      });\n    })\n    .catch(function (err) {\n      return Promise.reject(err);\n    });\n}\n\nexport function getElement(id) {\n  return document.getElementById(id);\n}\n\nexport function ColorArray() {\n  let colorArray = [\n    \"#1f78b4\",\n    \"#b2df8a\",\n    \"#33a02c\",\n    \"#fb9a99\",\n    \"#e31a1c\",\n    \"#fdbf6f\",\n    \"#ff7f00\",\n    \"#6a3d9a\",\n    \"#cab2d6\",\n    \"#ffff99\",\n    \"#8fff4f\",\n  ];\n  return colorArray;\n}\n\nexport function ColorArrayRGB() {\n  let colorArray = [\n    [141, 211, 199],\n    [255, 255, 179],\n    [190, 186, 218],\n    [251, 128, 114],\n    [128, 177, 211],\n    [253, 180, 98],\n    [179, 222, 105],\n    [252, 205, 229],\n    [188, 128, 189],\n    [204, 235, 197],\n  ];\n  return colorArray;\n}\n\nexport function checkInView(\n  container,\n  element,\n  partial,\n  containerOffset,\n  elementOffset\n) {\n  if (container) {\n    //Get container properties\n    let cTop = container.scrollTop;\n    let cBottom = cTop + container.clientHeight + containerOffset;\n\n    //Get element properties\n    let eTop = element.offsetTop + elementOffset;\n    let eBottom = eTop + element.clientHeight;\n\n    //Check if in view\n    let isTotal = eTop >= cTop && eBottom <= cBottom;\n    let isPartial =\n      partial &&\n      ((eTop < cTop && eBottom > cTop) ||\n        (eBottom > cBottom && eTop < cBottom));\n\n    //Return outcome\n    // console.log(\"cT:\", cTop, \"conHei\", container.clientHeight, \" offset\", containerOffset, elementOffset, container.offsetTop)\n    // console.log(element.offsetTop, \"eT:\", eTop, \"cT:\", cTop, \"eB:\", eBottom, \"cB:\", cBottom, isTotal || isPartial)\n    return isTotal || isPartial;\n  } else {\n    return false;\n  }\n}\n\nexport const LeaderLine = window.LeaderLine;\nexport const animOptions = { duration: 800, timing: \"ease\" };\nexport const greyColor = \"rgba(189, 195, 199, 0.5)\";\nexport const blueColor = \"rgba(0,98,255, 1)\";\n\nexport function shuffleData(data, info) {\n  let datasetContent = [];\n  const imageBasePath = process.env.PUBLIC_URL + \"/assets/semsearch/datasets/\";\n\n  for (const row of Object.keys(data)) {\n    for (const i of data[row]) {\n      const imagePath = imageBasePath + info.name + \"/\" + i + \".jpg\";\n      datasetContent.push({ path: imagePath, index: i });\n    }\n  }\n  return shuffle(datasetContent);\n}\n","/**\n * @license\n * Copyright 2019 Fast Forward Labs.\n * Written by / Contact : https://github.com/victordibia\n * NeuralQA - NeuralQA: Question Answering on Large Datasets with BERT.\n * Licensed under the MIT License (the \"License\");\n * =============================================================================\n */\n\nimport React, { useState, useEffect } from \"react\";\nimport { Tabs, Tab } from \"carbon-components-react\";\nimport \"./datasetview.css\";\nimport SimilarityView from \"../similarityview/SimilarityView\";\nimport {\n  loadJSONData,\n  shuffleData,\n} from \"../../helperfunctions/HelperFunctions\";\n\nexport default function DatasetView(props) {\n  const selections = props.selections;\n  const classlist = selections.classlist;\n  const [selectedImage, setSelectedImage] = useState(0);\n  const [similarityArray, setSimilarityArray] = useState(null);\n\n  const [dataRandom, setDataRandom] = useState([]);\n\n  const similarityPath =\n    selections.basePath +\n    \"/assets/semsearch/similarity/\" +\n    selections.dataset.name +\n    \"/\" +\n    selections.model.name +\n    \"/\" +\n    selections.metric +\n    \"/\" +\n    selections.layer.name +\n    \".json\";\n\n  useEffect(() => {\n    setDataRandom(shuffleData(props.data, props.meta));\n  }, [props.data, props.meta]);\n\n  useEffect(() => {\n    // console.log(\"json reloaded\");\n    let loadedJSON = loadJSONData(similarityPath);\n    loadedJSON.then(function (data) {\n      if (data) {\n        setSimilarityArray(data);\n      }\n    });\n  }, [similarityPath]);\n\n  const allData = dataRandom.map((data, index) => {\n    return (\n      <div\n        key={index + \"winper\"}\n        className=\"iblock similarityfullbox mr5 mb5 positionrelative\"\n      >\n        <img\n          key={\"image\" + index}\n          onClick={() => clickImage(data.index)}\n          src={data.path}\n          alt=\"\"\n          className={\n            \"simiimage clickable rad2 \" +\n            (data.index + \"\" === selectedImage + \"\" ? \"active\" : \"\")\n          }\n          indexvalue={data.index}\n        />\n      </div>\n    );\n  });\n\n  function clickImage(id) {\n    setSelectedImage(id);\n    if (selections.show.getter.advancedDrawer) {\n      selections.show.setter.advancedDrawer(false);\n    }\n  }\n\n  let allDataByCategory = [];\n  const datasetClasses = classlist[selections.dataset.name];\n\n  for (const className of datasetClasses) {\n    let classcon = selections.classes[selections.dataset.name];\n    let clist = classcon[className].map((classval, index) => {\n      let imagePath =\n        selections.basePath +\n        \"/assets/semsearch/datasets/\" +\n        selections.dataset.name +\n        \"/\" +\n        classval +\n        \".jpg\";\n      return (\n        <div\n          key={classval + \"winper\"}\n          className=\"iblock similarityfullbox mr5 mb5 positionrelative\"\n        >\n          <img\n            key={classval + \"image\"}\n            onClick={() => clickImage(classval)}\n            src={imagePath}\n            alt=\"\"\n            className={\n              \"simiimage clickable rad2 \" +\n              (selectedImage === classval ? \"active\" : \"\")\n            }\n            indexvalue={classval}\n          />\n        </div>\n      );\n    });\n    let header = (\n      <div key={\"header\" + className} className=\"iblock mr5 categorymain  mb5 \">\n        <div>\n          <div className=\" boldtext categorytitle\">\n            {className.toUpperCase()}\n          </div>\n          <img\n            src={require(\"../../../images/bgwhite.png\")}\n            alt=\"\"\n            className={\"categorybox rad2 \"}\n          />\n        </div>\n      </div>\n    );\n\n    allDataByCategory.push(header);\n    allDataByCategory.push(clist);\n  }\n\n  const datasetTitle = (\n    <div className=\"mb10\">\n      <span className=\"boldtext\"> Dataset : {props.meta.name}</span>\n      <span className=\"mediumdesc\"> {props.meta.description}</span>\n    </div>\n  );\n\n  return (\n    <div className=\"mt10\">\n      {/* top results */}\n      {/* show top results panel and content */}\n      {\n        <div>\n          <div className=\"unselectable mt10    flex \">\n            <div\n              // onClick={() =>\n              //   show.setter.similarDrawer(!show.getter.similarDrawer)\n              // }\n              className=\" iblock darkborderbottom lightgreyhighlight flexfull minwidth485 p10\"\n            >\n              <strong>Top {props.selections.topSimilar} results </strong> based\n              on your search configuration\n              <span className=\"smalldesc\">\n                [<strong> MODEL: </strong>\n                {props.selections.model.name.toUpperCase()} |\n                <strong> LAYER: </strong> {props.selections.layer.name} |\n                <strong> DISTANCE METRIC: </strong>\n                {props.selections.metric.toUpperCase()} ]\n              </span>\n            </div>\n          </div>\n        </div>\n      }\n      {similarityArray && (\n        <SimilarityView\n          selectedImage={selectedImage}\n          similarityArray={similarityArray[selectedImage]}\n          setSelectedImage={clickImage}\n          selections={props.selections}\n        ></SimilarityView>\n      )}\n\n      <Tabs className=\"\" selected={0}>\n        <Tab id=\"alldata\" label=\"All Data\">\n          <div className=\"scrollwindow  datasetdivbox\">\n            {datasetTitle}\n            {allData}\n          </div>\n        </Tab>\n        <Tab id=\"bycategory\" label=\"By Category\">\n          <div className=\"scrollwindow  datasetdivbox\">\n            {datasetTitle}\n            {allDataByCategory}\n          </div>\n        </Tab>\n      </Tabs>\n    </div>\n  );\n}\n","export const LeaderLine = window.LeaderLine;\nexport const animOptions = { duration: 800, timing: \"ease\" };\nexport const greyColor = \"rgba(189, 195, 199, 0.5)\";\nexport const blueColor = \"rgba(0,98,255, 1)\";\n\nexport function removeLines(lineHolder) {\n  lineHolder.forEach(function (each) {\n    each.line.remove();\n  });\n  lineHolder = [];\n}\n\nexport function drawLines(lineHolder, lineParams) {\n  // removeLines(lineHolder);\n  for (const [i, param] of lineParams.entries()) {\n    let line = new LeaderLine(param.startElement, param.endElement, {\n      color: param.color,\n      startPlug: \"disc\",\n      endPlug: \"disc\",\n      startPlugColor: param.color,\n      path: \"fluid\",\n      size: param.size,\n      hide: true,\n      startSocket: \"bottom\",\n      endSocket: param.endSocket,\n      endPlugSize: param.endPlugSize,\n      //   startPlugSize: param.startPlugSize,\n    });\n    // document.querySelector(\".leader-line\").style.zIndex = -100;\n    animOptions.duration = 800;\n    line.show(\"draw\", animOptions);\n    lineHolder.push({ line: line, index: i });\n  }\n}\n","/**\n * @license\n * Copyright 2019 Fast Forward Labs.\n * Written by / Contact : https://github.com/victordibia\n * NeuralQA - NeuralQA: Question Answering on Large Datasets with BERT.\n * Licensed under the MIT License (the \"License\");\n * =============================================================================\n */\n\nimport React, { useEffect, useRef } from \"react\";\nimport \"./configview.css\";\nimport {\n  abbreviateString,\n  makeFriendly,\n  getElement,\n  blueColor,\n  greyColor,\n  checkInView,\n} from \"../../helperfunctions/HelperFunctions\";\nimport { Tooltip } from \"carbon-components-react\";\nimport { drawLines } from \"../../helperfunctions/DrawLine\";\n\nfunction drawArcLines(model, layer, layers, lineHolder) {\n  const layerBox = getElement(\"layerscrollbox\");\n  const modelBox = getElement(\"modelscrollbox\");\n  const elementOffset = -1 * modelBox.offsetTop - 30;\n\n  // only draw lines if the model and the layer are visible\n  const modelVisible = checkInView(\n    modelBox,\n    getElement(\"modelimg\" + model),\n    true,\n    -80,\n    elementOffset\n  );\n\n  const lineParams = [];\n  for (const i in layers) {\n    const currentLayerBox = getElement(\"layerimg\" + i);\n    const layerVisible = checkInView(\n      layerBox,\n      currentLayerBox,\n      true,\n      -80,\n      elementOffset\n    );\n    if (layerVisible && modelVisible) {\n      const isPrima = String(layer) === String(i);\n      lineParams.push({\n        startElement: getElement(\"modelimg\" + model),\n        endElement: currentLayerBox,\n        color: isPrima ? blueColor : greyColor,\n        endSocket: isPrima ? \"top\" : \"left\",\n        endPlugSize: 2,\n        size: isPrima ? 2.5 : 1.5,\n      });\n    }\n  }\n  drawLines(lineHolder, lineParams);\n}\n\nexport default function ConfigView(props) {\n  const selections = props.selections;\n  const show = selections.show;\n  const config = selections.config;\n  const layers = props.models[config.getter.selectedModel].layers;\n  const selectedLayer = layers[config.getter.selectedLayer];\n\n  const lineHolder = useRef([]);\n  const isScrolling = useRef(null);\n  const selectedModelRef = useRef(config.getter.selectedModel);\n  const selectedLayerRef = useRef(config.getter.selectedLayer);\n  const laysersRef = useRef(layers);\n  const showMetrics = props.showMetrics;\n\n  function removeLines() {\n    lineHolder.current.forEach(function (each) {\n      each.line.remove();\n    });\n    lineHolder.current = [];\n  }\n\n  useEffect(() => {\n    function scrollEndedHandler() {\n      window.clearTimeout(isScrolling.current);\n      isScrolling.current = setTimeout(function () {\n        // console.log(\"Scrolling has stopped.\");\n        removeLines();\n        drawArcLines(\n          selectedModelRef.current,\n          selectedLayerRef.current,\n          laysersRef.current,\n          lineHolder.current\n        );\n      }, 200);\n    }\n    const layerBox = getElement(\"layerscrollbox\");\n    const modelBox = getElement(\"modelscrollbox\");\n\n    // console.log(\"adding listeners\");\n    window.addEventListener(\"resize\", scrollEndedHandler);\n    modelBox.addEventListener(\"scroll\", scrollEndedHandler, false);\n    layerBox.addEventListener(\"scroll\", scrollEndedHandler, false);\n\n    layerBox.scrollTo({\n      top: 100,\n      left: 0,\n      behavior: \"smooth\",\n    });\n\n    return function cleanup() {\n      removeLines();\n      // console.log(\"removing listeners\");\n      window.removeEventListener(\"resize\", scrollEndedHandler);\n      modelBox.removeEventListener(\"scroll\", scrollEndedHandler, false);\n      layerBox.removeEventListener(\"scroll\", scrollEndedHandler, false);\n    };\n  }, []);\n\n  useEffect(() => {\n    // console.log(\"config change effect loaded .. drawing\");\n    selectedModelRef.current = config.getter.selectedModel;\n    selectedLayerRef.current = config.getter.selectedLayer;\n    laysersRef.current = layers;\n    // console.log(\"adding handlers\");\n    drawArcLines(\n      config.getter.selectedModel,\n      config.getter.selectedLayer,\n      layers,\n      lineHolder.current\n    );\n\n    return function cleanup() {\n      removeLines();\n    };\n  }, [\n    config.getter.selectedModel,\n    config.getter.selectedLayer,\n    layers,\n    show.getter.advancedDrawer,\n  ]);\n\n  // console.log(props.metrics, config.getter.selectedDistanceMetric);\n\n  let datasetImageList = props.datasets.map((dsdata, index) => {\n    let iconPath =\n      selections.basePath + \"/assets/semsearch/images/\" + dsdata.icon;\n    // console.log(dsdata)\n    return (\n      <div\n        key={dsdata.name + \"fullbox\" + index}\n        className=\"iblock mr10 datasetfullbox clickable mb10\"\n      >\n        <div className=\"datasettitles\"> {dsdata.name.toUpperCase()}</div>\n        <div className=\"smalldesc pb5\">{dsdata.size} images </div>\n        <img\n          onClick={() => config.setter.selectedDataset(index)}\n          src={iconPath}\n          alt=\"\"\n          className={\n            \"datasetbox rad2 \" +\n            (String(config.getter.selectedDataset) === String(index)\n              ? \"active\"\n              : \"\")\n          }\n          indexvalue={index}\n        />\n      </div>\n    );\n  });\n\n  let modelImageList = props.models.map((mdata, index) => {\n    let imagePath =\n      selections.basePath +\n      \"/assets/models/\" +\n      props.models[index].name +\n      \"/\" +\n      props.models[index].layers[props.models[index].layers.length - 1].name +\n      \"/0.jpg\";\n    // console.log(props.models);\n\n    return (\n      <div\n        id={\"modelimgbox\" + index}\n        key={mdata.name + \"fullbox\" + index}\n        className=\"iblock datasetfullbox mr10 clickable mb10 \"\n      >\n        <div className=\"datasettitles\">\n          {\" \"}\n          {abbreviateString(mdata.name.toUpperCase(), 11)}\n        </div>\n        <div className=\"smalldesc pb5\">\n          {makeFriendly(mdata[\"modelparameters\"])} params.{\" \"}\n        </div>\n        <img\n          id={\"modelimg\" + index}\n          onClick={() => config.setter.selectedModel(index)}\n          src={imagePath}\n          alt=\"\"\n          className={\n            \"datasetbox rad2 \" +\n            (String(config.getter.selectedModel) === String(index)\n              ? \"active\"\n              : \"\")\n          }\n          indexvalue={index}\n        />\n      </div>\n    );\n  });\n\n  let layerImageList = layers.map((ldata, index) => {\n    let imagePath =\n      selections.basePath +\n      \"/assets/models/\" +\n      selections.model.name +\n      \"/\" +\n      layers[index].name +\n      \"/0.jpg\";\n\n    return (\n      <div\n        key={ldata + \"fullbox\" + index}\n        className=\"iblock datasetfullbox mr10 clickable mb10 \"\n      >\n        <div className=\"datasettitles\"> {\"layer \" + ldata.layer_index} </div>\n        {/* {abbreviateString(ldata.name, 11).toLowerCase()}  */}\n        <div className=\"smalldesc pb5\">\n          {\" \"}\n          {makeFriendly(ldata.modelparameters)} params\n        </div>\n        <img\n          id={\"layerimg\" + index}\n          onClick={() => selections.config.setter.selectedLayer(index)}\n          src={imagePath}\n          alt=\"\"\n          className={\n            \"datasetbox rad2 \" +\n            (String(config.getter.selectedLayer) === String(index)\n              ? \"active\"\n              : \"\")\n          }\n          indexvalue={index}\n        />\n      </div>\n    );\n  });\n\n  let metricImageList = props.metrics.map((metric, index) => {\n    return (\n      <div\n        key={metric + \"fullbox\" + index}\n        className=\" positionrelative mr10 iblock datasetfullbox clickable mb10 \"\n      >\n        <div className=\"datasettitles\">\n          {\" \"}\n          {abbreviateString(metric, 11).toUpperCase()}{\" \"}\n        </div>\n        <div className=\"smalldesc pb5\"> distance</div>\n        <div className=\"metrictitle positionabsolute\">\n          {\" \"}\n          {abbreviateString(metric, 4).toUpperCase()}\n        </div>\n        <img\n          onClick={() => config.setter.selectedDistanceMetric(index)}\n          src={require(\"../../../images/bgwhite.png\")}\n          alt=\"\"\n          className={\n            \"datasetbox rad2 \" +\n            (String(config.getter.selectedDistanceMetric) === String(index)\n              ? \"active\"\n              : \"\")\n          }\n          indexvalue={index}\n        />\n      </div>\n    );\n  });\n\n  let dimReductionList = (props.dimreduction || []).map((dim, index) => {\n    return (\n      <div\n        key={dim + \"fullbox\" + index}\n        className=\" positionrelative iblock mr10 clickable mb10 \"\n      >\n        <div className=\"datasettitles \">\n          {abbreviateString(dim, 11).toUpperCase()}\n        </div>\n        <div className=\"smalldesc pb5\"> method </div>\n        <div className=\"metrictitle positionabsolute\">\n          {\" \"}\n          {abbreviateString(dim, 4).toUpperCase()}\n        </div>\n        <img\n          onClick={() => config.setter.selectedDimReduction(index)}\n          src={require(\"../../../images/bgwhite.png\")}\n          alt=\"\"\n          className={\n            \"datasetbox rad2 \" +\n            (String(config.getter.selectedDimReduction) === String(index)\n              ? \"active\"\n              : \"\")\n          }\n          indexvalue={index}\n        />\n      </div>\n    );\n  });\n\n  return (\n    <div className=\"mt10\">\n      <div className={\" \" + (show.getter.advanced ? \"\" : \" displaynone\")}>\n        {/* config panel and content */}\n        <div\n          onClick={() =>\n            show.setter.advancedDrawer(!show.getter.advancedDrawer)\n          }\n          className=\"unselectable mt10 p10 clickable darkborderbottom flex greymoreinfo\"\n        >\n          <div className=\"iblock flexfull minwidth485\">\n            <strong>\n              {\" \"}\n              {!show.getter.advancedDrawer && <span>&#x25BC; </span>}{\" \"}\n              {show.getter.advancedDrawer && <span>&#x25B2; </span>}{\" \"}\n            </strong>{\" \"}\n            <strong> Advanced Options</strong>\n          </div>\n          <div className=\"iblock   \">\n            <div className=\"iblock mr5\">\n              {\" \"}\n              <span className=\"boldtext uppercase\">\n                {\" \"}\n                {selections.dataset.name}\n              </span>\n            </div>\n            <div className=\"iblock\">\n              <div className=\"smalldesc\"> DATASET </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Configuration drawer */}\n        {\n          <div\n            style={{ zIndex: 500 }}\n            className={\n              \"flex  modelconfigdiv p10 \" +\n              (show.getter.advancedDrawer ? \"\" : \" displaynone\")\n            }\n          >\n            <div className=\"flex15  mr10\">\n              <div className=\"h100 flex flexcolumn \">\n                <div className=\" pb10 sectiontitle\">\n                  <div className=\"iblock\">Dataset</div>\n                  <div className=\"iblock\"></div>\n                </div>\n                <div className=\"horrule mb10\"></div>\n                <div className=\"flexfull datasetselectdiv scrollwindow layerwindow\">\n                  {datasetImageList}\n                </div>\n                <div className=\"\">\n                  <div className=\" iblock boldtext  boldtext datasetdescription mr10   p10 greyhighlight\">\n                    {selections.dataset.name.toUpperCase()}\n                  </div>\n                  {/* <div\n                  // onClick={this.toggleDatasetModal.bind(this)}\n                  className=\"iblock p10 greyhighlight clickable unselectable greymoreinfo\"\n                >\n                  {\" \"}\n                  ? More Info{\" \"}\n                </div> */}\n                </div>\n              </div>\n            </div>\n\n            <div style={{ zIndex: 100 }} className=\"mr10 flex35\">\n              <div className=\" pb10 sectiontitle\"> Model </div>\n              <div className=\"horrule mb10\"></div>\n              <div\n                id=\"modelscrollbox\"\n                className=\"datasetselectdiv scrollwindow layerwindow\"\n              >\n                {modelImageList}\n              </div>\n              <div className=\"flex flexwrap pr10\">\n                <div className=\"  mr10 \">\n                  <div className=\" iblock boldtext datasetdescription  p10 greyhighlight\">\n                    {selections.model.name.toUpperCase()}\n                  </div>\n                </div>\n                <div className=\"flexfull \">\n                  <div className=\"smalldesc pt4\">\n                    {\" \"}\n                    <strong>\n                      {\" \"}\n                      {makeFriendly(selections.model.modelparameters)}{\" \"}\n                      Parameters{\" \"}\n                    </strong>{\" \"}\n                  </div>\n                  <div className=\"smalldesc pt3\">\n                    {\" \"}\n                    {selections.model.numlayers} layers{\" \"}\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div style={{ zIndex: 100 }} className=\"flex3 pr10 \">\n              <div className=\"pb8 sectiontitle \">\n                <div className=\"iblock\">Layer</div>\n\n                <div className=\"iblock \">\n                  <Tooltip direction=\"left\" triggerText=\"\">\n                    <div className=\"wscore\">\n                      We construct{\" \"}\n                      <span className=\"italics\">intermediate models</span> from\n                      the main model at each of these layers. Each intermediate\n                      model has less parameters than the full model and is used\n                      for feature extraction.\n                      {/* <div class=\"bx--tooltip__footer\">\n                                                <a hid=\"#\" class=\"bx--link\">Learn More</a>\n                                                <button onClick={this.toggleSemanticModal.bind(this)} class=\"bx--btn bx--btn--primary bx--btn--sm\" type=\"button\">More Info</button>\n                                            </div> */}\n                    </div>\n                  </Tooltip>\n                </div>\n              </div>\n              <div className=\"horrule mb10\"></div>\n              <div\n                id=\"layerscrollbox\"\n                className=\"scrollwindow layerwindow  mr10\"\n              >\n                <div className=\"windowcontent\"> {layerImageList} </div>\n              </div>\n              <div className=\"flex flexwrap pr10\">\n                <div className=\"  mr10 \">\n                  <div className=\" iblock boldtext datasetdescription  p10 greyhighlight\">\n                    {\" LAYER \" + selectedLayer.layer_index}\n                  </div>\n                </div>\n                <div className=\"flexfull \">\n                  <div className=\"smalldesc pt4\">\n                    {\" \"}\n                    <strong>Type: {selectedLayer.type} </strong> |{\" \"}\n                    <span className=\"smalldesc\">\n                      {\" \"}\n                      {selectedLayer.name.toUpperCase()}{\" \"}\n                    </span>{\" \"}\n                  </div>\n                  <div className=\"smalldesc pt3\">\n                    {\" \"}\n                    {makeFriendly(selectedLayer.modelparameters)} model\n                    parameters{\" \"}\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {showMetrics && (\n              <div className=\"flex2 metricview\">\n                <div className=\"pb8 sectiontitle \">\n                  <div className=\"iblock\">Distance Metric</div>\n\n                  <div className=\"iblock \">\n                    <Tooltip direction=\"left\" triggerText=\"\">\n                      <div className=\"wscore\">\n                        The distance metric used to compute similarity between\n                        extracted features.\n                      </div>\n                    </Tooltip>\n                  </div>\n                </div>\n\n                <div className=\"horrule mb10\"></div>\n                <div className=\"scrollwindow layerwindow \">\n                  <div className=\"windowcontent\"> {metricImageList} </div>\n                </div>\n                <div className=\" iblock boldtext datasetdescription  p10 greyhighlight\">\n                  {\" \"}\n                  {props.metrics[\n                    config.getter.selectedDistanceMetric\n                  ].toUpperCase()}\n                </div>\n              </div>\n            )}\n\n            {!showMetrics && (\n              <div className=\"flex2 metricview\">\n                <div className=\"pb8 sectiontitle \">\n                  <div className=\"iblock\">Visualization </div>\n\n                  <div className=\"iblock \">\n                    <Tooltip direction=\"left\" triggerText=\"\">\n                      <div className=\"wscore\">\n                        The dimensionality reduction method used to plot image\n                        representations.\n                      </div>\n                    </Tooltip>\n                  </div>\n                </div>\n\n                <div className=\"horrule mb10\"></div>\n                <div className=\"scrollwindow layerwindow \">\n                  <div className=\"windowcontent\"> {dimReductionList} </div>\n                </div>\n                <div className=\" iblock boldtext datasetdescription  p10 greyhighlight\">\n                  {\" \"}\n                  {props.dimreduction[\n                    config.getter.selectedDimReduction\n                  ].toUpperCase()}\n                </div>\n              </div>\n            )}\n\n            <div className=\"horrule mb10\"></div>\n          </div>\n        }\n      </div>\n    </div>\n  );\n}\n","/**\n * @license\n * Copyright 2019 Fast Forward Labs.\n * Written by / Contact : https://github.com/victordibia\n * NeuralQA - NeuralQA: Question Answering on Large Datasets with BERT.\n * Licensed under the MIT License (the \"License\");\n * =============================================================================\n */\n\nimport React, { useEffect } from \"react\";\nimport { Toggle } from \"carbon-components-react\";\nimport \"./semanticsearchview.css\";\nimport DatasetView from \"./datasetview/DatasetView\";\nimport {\n  abbreviateString,\n  shuffleData,\n} from \"../helperfunctions/HelperFunctions\";\nimport ConfigView from \"./configview/ConfigView\";\n\nexport default function SemanticSearchView(props) {\n  const selections = props.selections;\n  const showAdvanced = selections.show.getter.advanced;\n  const setAdvancedDrawer = selections.show.setter.advancedDrawer;\n  const setShowAdvanced = selections.show.setter.advanced;\n  const selectedModelImagePath =\n    selections.basePath +\n    \"/assets/models/\" +\n    selections.model.name +\n    \"/\" +\n    selections.layer.name +\n    \"/0.jpg\";\n\n  useEffect(() => {\n    document.title = `ConvNet Playground | Semantic Search Explorer`;\n  }, []);\n  return (\n    <div>\n      <div className=\"flex \">\n        <div className=\"flexfull\">\n          <div className=\"  mynotif   p10 lightbluehightlight maxh16  \">\n            <div className=\" floatright  lightgreyhighlight ml10 pl10 pr10 pb5 \">\n              <div className=\"boldtext  iblock \">\n                <Toggle\n                  id=\"advancedoptionstoggle\"\n                  className=\"smalldesc boldtext mr10\"\n                  labelA=\"Off\"\n                  labelB=\"On\"\n                  defaultToggled={showAdvanced}\n                  // onChange action('onChange'),\n                  onToggle={() => {\n                    if (!showAdvanced) {\n                      setAdvancedDrawer(true);\n                    }\n                    setShowAdvanced(!showAdvanced);\n                  }}\n                ></Toggle>\n              </div>\n\n              <div className=\"mediumdesc boldtext pt2 pb3\">\n                Advanced Options\n              </div>\n            </div>\n            <div className=\"boldtext mb10\">\n              {\" \"}\n              Explore Precomputed Results of Semantic Search Queries\n            </div>\n\n            <div className=\"floatleft h100 borderright pr10 mb3 mr10\">\n              <img\n                className=\"introicon rad2 floatleft  mr10\"\n                src={selectedModelImagePath}\n                alt=\"\"\n              />\n              <div className=\"iblock \">\n                <div className=\"   \">\n                  <div className=\"smalldesc pb3  uppercase\">\n                    Dataset :{\" \"}\n                    <span className=\"boldtext\">{selections.dataset.name}</span>\n                  </div>\n                  <div className=\"pb3 smalldesc uppercase\">\n                    Model :{\" \"}\n                    <span className=\"boldtext\">{selections.model.name} </span>\n                    {/* <span className=\"smalldesc\">\n                      | {makeFriendly(selections.model.modelparameters)}{\" \"}\n                      parameters\n                    </span> */}\n                  </div>\n                  <div className=\"pb3 smalldesc uppercase\">\n                    Layer :{\" \"}\n                    <span className=\"boldtext\">\n                      {abbreviateString(selections.layer.name, 12)}{\" \"}\n                    </span>\n                    {/* <span className=\"smalldesc\">\n                      | {makeFriendly(selections.layer.modelparameters)}{\" \"}\n                      parameters\n                    </span> */}\n                  </div>\n                  <div className=\"smalldesc  uppercase\">\n                    Metric :{\" \"}\n                    <span className=\"boldtext\">{selections.metric}</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <span className=\"lh10  \">\n              When you select an image (by clicking it), a neural network model\n              [\n              <span className=\"uppercase boldtext\">\n                {\" \"}\n                {selections.model.name}\n              </span>{\" \"}\n              ]<span className=\"italics\"> looks </span> at the content of all\n              images in our dataset and identifies the{\" \"}\n              <strong> top {selections.topSimilar} </strong> most similar images\n              to the selected image. Click advanced options to select a\n              different dataset, model (or intermediate model) and distance\n              metric used for semantic search.\n            </span>\n          </div>\n        </div>\n      </div>\n\n      {selections.show.getter.advanced && (\n        <ConfigView\n          models={props.modelViewDetails.models}\n          datasets={props.modelViewDetails.datasets}\n          metrics={props.modelViewDetails.metrics}\n          selections={selections}\n          showMetrics={true}\n        ></ConfigView>\n      )}\n\n      <DatasetView\n        data={props.datasetContent}\n        dataRandom={shuffleData(props.datasetContent, props.datasetInfo)}\n        meta={props.datasetInfo}\n        selections={selections}\n      ></DatasetView>\n      <br />\n      <br />\n    </div>\n  );\n}\n","/**\n * @license\n * Copyright 2019 Fast Forward Labs.\n * Written by / Contact : https://github.com/victordibia\n * NeuralQA - NeuralQA: Question Answering on Large Datasets with BERT.\n * Licensed under the MIT License (the \"License\");\n * =============================================================================\n */\n\nimport React, { useEffect, useRef } from \"react\";\nimport \"./embeddingview.css\";\nimport { loadJSONData } from \"../../helperfunctions/HelperFunctions\";\nimport * as d3 from \"d3\";\nimport { PlayFilledAlt16, PauseFilled16 } from \"@carbon/icons-react\";\n\nconst width = 500;\nconst height = 230;\nconst margin = { top: 30, right: 10, bottom: 10, left: 10 };\n// const k =\n//   (height - margin.left - margin.right) / (width - margin.top - margin.bottom);\nconst strokeWidthNormal = 5;\nconst strokeWidthHover = 12;\nconst strokeOpacity = 0.6;\n\nconst toolTip = document.createElement(\"div\");\ntoolTip.className = \"hoveToolTip\";\ntoolTip.style.display = \"none\";\nconst toolTipImg = document.createElement(\"img\");\ntoolTipImg.className = \"tooltipimg\";\ntoolTipImg.id = \"tooltipimage\";\nconst toolTipLabel = document.createElement(\"div\");\n// toolTipLabel.innerHTML = \"bingoooo\";\ntoolTipLabel.className = \"tooltiplabel\";\ntoolTip.appendChild(toolTipLabel);\ntoolTip.appendChild(toolTipImg);\n\nlet toolTipImgBasePath = \"\";\n\nconst zoom = d3\n  .zoom()\n  .extent([\n    [0, 0],\n    [width, height],\n  ])\n  .scaleExtent([1, 8]);\n\nfunction updateAxes(data) {\n  const x = d3\n    .scaleLinear()\n    .domain(d3.extent(data, (d) => d.x))\n    .range([margin.left, width - margin.right]);\n  // console.log(x(23));\n  const y = d3\n    .scaleLinear()\n    .domain(d3.extent(data, (d) => d.y))\n    .range([margin.top, height - margin.bottom]);\n\n  const z = d3\n    .scaleOrdinal()\n    .domain(data.map((d) => d.class))\n    .range(d3.schemeCategory10);\n  return { x: x, y: y, z: z };\n}\n\nfunction drawGraph(data) {\n  const { x, y, z } = updateAxes(data);\n\n  zoom.on(\"zoom\", zoomed);\n\n  d3.select(\"div.embeddingchart\").html(\"\");\n\n  const svg = d3\n    .select(\"div.embeddingchart\")\n    .append(\"svg\")\n    // .attr(\"preserveAspectRatio\", \"xMinYMin meet\")\n    .attr(\"viewBox\", [0, 0, width, height])\n    .attr(\"preserveAspectRatio\", \"none\")\n    .attr(\"stroke-linecap\", \"round\")\n    .attr(\"class\", \"mainsvg\");\n\n  const pathGroup = svg.append(\"g\").attr(\"class\", \"scattersvg\");\n  pathGroup\n    .selectAll(\"path\")\n    .data(data)\n    .join(\"path\")\n    .attr(\"d\", (d) => `M${x(d.x)},${y(d.y)}h0`)\n    .attr(\"stroke\", (d) => z(d.class))\n    .attr(\"stroke-opacity\", strokeOpacity)\n    .attr(\"stroke-width\", 5);\n\n  function zoomed({ transform }) {\n    pathGroup.attr(\"transform\", transform);\n  }\n  svg.call(zoom).call(zoom.transform, d3.zoomIdentity);\n}\n\nfunction updateGraph(data) {\n  const { x, y, z } = updateAxes(data);\n  const svg = d3.select(\".scattersvg\");\n\n  svg.transition().duration(950).call(zoom.transform, d3.zoomIdentity);\n  d3.select(\".mainsvg\")\n    .transition()\n    .duration(950)\n    .call(zoom.transform, d3.zoomIdentity);\n\n  svg\n    .selectAll(\"path\")\n    .data(data)\n    .join(\"path\")\n    .on(\"mouseover\", handleMouseOver)\n    .on(\"mouseout\", handleMouseOut)\n    .transition()\n    .duration(750)\n    .attr(\"d\", (d) => `M${x(d.x)},${y(d.y)}h0`)\n    .attr(\"stroke\", (d) => z(d.class))\n    .attr(\"stroke-opacity\", strokeOpacity)\n    .attr(\"stroke-width\", strokeWidthNormal)\n    .attr(\"id\", (d, i) => i);\n\n  const legendBox = document.getElementById(\"legendbox\");\n  legendBox.innerHTML = \"\";\n\n  for (const row of z.domain()) {\n    const legendRow = document.createElement(\"div\");\n    const legendText = document.createElement(\"span\");\n    const legendCircle = document.createElement(\"div\");\n    legendRow.className = \"iblock mr10\";\n    legendCircle.className = \"legendcircle\";\n    legendCircle.style.backgroundColor = z(row);\n    legendText.className = \"legendtext\";\n    legendText.innerHTML = row;\n    legendRow.appendChild(legendCircle);\n    legendRow.appendChild(legendText);\n    legendBox.appendChild(legendRow);\n  }\n}\n\nfunction handleMouseOver(e, d) {\n  // console.log(d3.select(\".scattersvg\").selectAll(\"path\").nodes());\n  // const nodes = d3.select(\".scattersvg\").selectAll(\"path\").nodes();\n  // const i = nodes.indexOf(d3.select(e.currentTarget));\n\n  toolTipImg.src =\n    toolTipImgBasePath + \"/\" + d3.select(e.target).attr(\"id\") + \".jpg\";\n  toolTip.style.display = \"block\";\n  toolTipLabel.innerHTML = d.class;\n  d3.select(e.target)\n    .attr(\"stroke-opacity\", 1)\n    .attr(\"stroke-width\", strokeWidthHover)\n    .attr(\"mouseevent\", \"none\");\n}\n\nfunction handleMouseOut(e) {\n  toolTip.style.display = \"none\";\n\n  d3.select(e.target)\n    .attr(\"stroke-opacity\", 0.6)\n    .attr(\"stroke-width\", strokeWidthNormal);\n}\n\nexport default function ScatterPlot(props) {\n  const selections = props.selections;\n  const config = selections.config;\n  // const layers = props.models[config.getter.selectedModel].layers;\n  // const selectedLayer = layers[config.getter.selectedLayer];\n\n  // console.log(selections.classlist[selections.dataset.name]);\n  const scoreData = useRef(null);\n  const cycleDuration = 2000;\n\n  const umapPath =\n    selections.basePath +\n    \"/assets/semsearch/umap/\" +\n    selections.dataset.name +\n    \"/\" +\n    selections.model.name +\n    \"/\" +\n    selections.layer.name +\n    \".json\";\n\n  toolTipImgBasePath =\n    selections.basePath +\n    \"/assets/semsearch/datasets/\" +\n    selections.dataset.name +\n    \"/\";\n\n  useEffect(() => {\n    // console.log(\"json reloaded\");\n    let loadedJSON = loadJSONData(umapPath);\n    loadedJSON.then(function (data) {\n      if (data) {\n        updateGraph(data);\n        scoreData.current = data;\n      }\n    });\n  }, [umapPath]);\n\n  useEffect(() => {\n    drawGraph([]);\n    toolTipImgBasePath =\n      \"/assets/semsearch/datasets/\" + selections.dataset.name;\n    toolTipImg.src = \"/assets/semsearch/datasets/iconic200/187.jpg\";\n    document.getElementById(\"embeddingchart\").prepend(toolTip);\n  }, [selections.dataset.name]);\n\n  useEffect(() => {\n    function cycleLayer() {\n      // console.log(\"cycle: \", config.getter.cycle);\n      if (config.getter.cycle) {\n        config.setter.selectedLayer(\n          (config.getter.selectedLayer + 1) % selections.model.layers.length\n        );\n      }\n    }\n\n    let cycleFire = null;\n    if (config.getter.cycle) {\n      cycleFire = setInterval(cycleLayer, cycleDuration);\n    }\n    return function cleanup() {\n      clearInterval(cycleFire);\n    };\n  }, [\n    config.getter.cycle,\n    config.getter.selectedLayer,\n    config.setter,\n    selections.model.layers,\n  ]);\n\n  function clickCycleLayer() {\n    config.setter.cycle(!config.getter.cycle);\n  }\n\n  return (\n    <div id=\"embeddingview\" className=\"mt10 embeddingbox \">\n      <div className=\"\">\n        <div className=\"w100 p10  legendbox\" id=\"legendbox\">\n          {\" \"}\n          Legend{\" \"}\n        </div>\n        <div className=\"positionrelative\">\n          <div className=\"m5 positionabsolute p10\">\n            <div className=\" floatleft mr5 \">\n              {/* <div className=\" \">{selections.layer.name}</div> */}\n              <div className=\"iblock chartcontrol p10\">\n                <div className=\"flexcolumn flex flexjustifycenter\">\n                  <div\n                    onClick={clickCycleLayer}\n                    className={\n                      \"iblock circlesmall circlebutton mr5 flexcolumn flex flexjustifycenter clickable \" +\n                      (false ? \" disabled\" : \"\")\n                    }\n                  >\n                    {!config.getter.cycle && (\n                      <PlayFilledAlt16\n                        style={{ fill: \"white\" }}\n                        className=\"unselectable unclickable\"\n                      />\n                    )}\n                    {config.getter.cycle && (\n                      <PauseFilled16\n                        style={{ fill: \"white\" }}\n                        className=\"unselectable unclickable\"\n                      />\n                    )}\n                  </div>\n                  <div className=\"smalldesc cycletext textaligncenter pt5 \">\n                    {config.getter.cycle ? \"pause\" : \"cycle layers\"}\n                  </div>\n                </div>\n              </div>\n            </div>\n            {true && (\n              <div className=\"iblock chartcontrol p10 \">\n                <span className=\"smalldesc displayblock\"> layer </span>\n                <span className=\"displayblock\">\n                  {\" \"}\n                  <span className=\"controllayernum\">\n                    {\" \"}\n                    {selections.layer.layer_index}{\" \"}\n                  </span>\n                  <span>/ {selections.model.numlayers}</span>\n                </span>\n              </div>\n            )}\n          </div>\n          <div\n            id=\"embeddingchart\"\n            className=\" w100 embeddingchart lightgreyhighlight\"\n          ></div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { Select, SelectItem } from \"carbon-components-react\";\nimport React from \"react\";\n\nexport default function ConfigBar(props) {\n  const selections = props.selections;\n  const config = selections.config;\n  const layers = props.models[config.getter.selectedModel].layers;\n\n  function datasetChange(e) {\n    config.setter.selectedDataset(e.target.selectedIndex);\n  }\n\n  function modelChange(e) {\n    config.setter.selectedModel(e.target.selectedIndex);\n  }\n  function layerChange(e) {\n    config.setter.selectedLayer(e.target.selectedIndex);\n  }\n\n  const datasetList = props.datasets.map((data, i) => {\n    return (\n      <SelectItem\n        value={data.name}\n        text={data.name}\n        key={\"datasetrow\" + i}\n      ></SelectItem>\n    );\n  });\n\n  const modelList = props.models.map((data, i) => {\n    return (\n      <SelectItem\n        value={data.name}\n        text={data.name}\n        key={\"datasetrow\" + i}\n      ></SelectItem>\n    );\n  });\n\n  const layerList = layers.map((data, i) => {\n    return (\n      <SelectItem\n        value={data.layer_index + \":\" + data.name}\n        text={data.layer_index + \":\" + data.name}\n        key={\"datasetrow\" + i}\n      ></SelectItem>\n    );\n  });\n\n  const datestImagePath =\n    selections.basePath + \"/assets/semsearch/images/\" + selections.dataset.icon;\n\n  const modelImagePath =\n    selections.basePath +\n    \"/assets/models/\" +\n    selections.model.name +\n    \"/\" +\n    selections.model.layers[selections.model.layers.length - 1].name +\n    \"/0.jpg\";\n\n  const layerImagePath =\n    selections.basePath +\n    \"/assets/models/\" +\n    selections.model.name +\n    \"/\" +\n    selections.layer.name +\n    \"/0.jpg\";\n\n  return (\n    <div className=\"mt10   pr10  confbarsmall \">\n      <div>\n        <div className=\"mr10  mb5 iblock\">\n          <div className=\"pb5 \">\n            Dataset:\n            <span className=\"boldtext\"> {selections.dataset.name}</span>{\" \"}\n          </div>\n          <div className=\"iblock\">\n            <img\n              alt=\"\"\n              src={datestImagePath}\n              className=\"  datasetboxsmall floatleft iblock\"\n            ></img>\n            <Select\n              defaultValue={selections.dataset.name}\n              style={{ width: \"100px\" }}\n              className=\"pl10\"\n              hideLabel={true}\n              onChange={datasetChange}\n              id=\"datasetdropdown\"\n              labelText=\"Dataset\"\n            >\n              {datasetList}\n            </Select>\n          </div>\n        </div>\n\n        <div className=\"iblock  mb5 mr10\">\n          <div className=\"pb5 \">\n            Model:\n            <span className=\"boldtext\"> {selections.model.name}</span>{\" \"}\n          </div>\n          <div className=\"iblock\">\n            <img\n              alt=\"\"\n              src={modelImagePath}\n              className=\"  datasetboxsmall floatleft iblock\"\n            ></img>\n\n            <Select\n              defaultValue={selections.model.name}\n              className=\"pl10\"\n              style={{ width: \"160px\" }}\n              hideLabel={true}\n              onChange={modelChange}\n              id=\"modeldropdown\"\n              labelText=\"Model\"\n            >\n              {modelList}\n            </Select>\n          </div>\n        </div>\n        <div\n          className={\n            \"iblock mb5 mr10 \" + (config.getter.cycle ? \" disableview \" : \"\")\n          }\n        >\n          <div className=\"pb5 \">\n            Layer:\n            <span className=\"boldtext\">\n              {\" \"}\n              {selections.layer.layer_index + \":\" + selections.layer.name}{\" \"}\n            </span>{\" \"}\n          </div>\n          <div className=\"iblock\">\n            <img\n              alt=\"\"\n              src={layerImagePath}\n              className=\"  datasetboxsmall floatleft iblock\"\n            ></img>\n\n            <Select\n              defaultValue={\n                selections.layer.layer_index + \":\" + selections.layer.name\n              }\n              style={{ width: \"180px\" }}\n              className=\"pl10\"\n              hideLabel={true}\n              onChange={layerChange}\n              id=\"layerddropdown\"\n              labelText=\"Layer (Intermediate Model)\"\n            >\n              {layerList}\n            </Select>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","/**\n * @license\n * Copyright 2019 Fast Forward Labs.\n * Written by / Contact : https://github.com/victordibia\n * NeuralQA - NeuralQA: Question Answering on Large Datasets with BERT.\n * Licensed under the MIT License (the \"License\");\n * =============================================================================\n */\n\nimport React, { useEffect } from \"react\";\nimport \"./embedding.css\";\nimport ScatterPlot from \"./embeddingchart/ScatterPlot\";\nimport ConfigBar from \"./embeddingchart/ConfigBar\";\n\nexport default function EmbeddingView(props) {\n  //load useful data\n\n  const modelViewDetails = props.modelViewDetails;\n  const selections = props.selections;\n\n  useEffect(() => {\n    document.title = `ConvNet Playground | Embeddings`;\n  }, []);\n\n  return (\n    <div>\n      <div className=\"flex \">\n        <div className=\"flexfull\">\n          <div className=\"  mynotif  p10 lightbluehightlight   \">\n            <div className=\"boldtext mb10 \">\n              UMAP Visualization of Model Embeddings\n            </div>\n            <span className=\"lh10\">\n              Embeddings are learned representations that hold semantic meaning\n              for a specific set of tasks. Similar images are assigned\n              embeddings that lie closer in embedding space and dissimilar\n              images are farther apart.\n            </span>\n          </div>\n        </div>\n      </div>\n\n      <ConfigBar\n        models={modelViewDetails.models}\n        datasets={modelViewDetails.datasets}\n        metrics={modelViewDetails.metrics}\n        dimreduction={modelViewDetails.dimreduction}\n        selections={selections}\n      ></ConfigBar>\n      <ScatterPlot\n        models={modelViewDetails.models}\n        datasets={modelViewDetails.datasets}\n        selections={selections}\n      ></ScatterPlot>\n\n      <br />\n      <br />\n      <br />\n    </div>\n  );\n}\n","/**\n * @license\n * Copyright 2019 Fast Forward Labs.\n * Written by / Contact : https://github.com/victordibia\n * NeuralQA - NeuralQA: Question Answering on Large Datasets with BERT.\n * Licensed under the MIT License (the \"License\");\n * =============================================================================\n */\n\nimport React from \"react\";\nimport \"./uploadview.css\";\n\nexport default function UploadSimilarityView(props) {\n  const similarImages = props.similarityArray;\n\n  const similarImagesList = ((similarImages || []).ids || []).map(\n    (alldata, i) => {\n      return (\n        <div\n          key={i + \"winper\"}\n          className=\"iblock similarityfullbox mr5 mb5 positionrelative\"\n        >\n          <img\n            key={i + \"image\" + alldata}\n            // onClick={() => props.setSelectedImage(alldata)}\n            src={alldata}\n            alt=\"\"\n            className={\"siminone simiimage  simcomp rad2 \"}\n            indexvalue={i}\n          />\n        </div>\n      );\n    }\n  );\n\n  return (\n    <div\n      style={{\n        display: props.similarityArray ? \"\" : \"none\",\n      }}\n      className=\"pt10\"\n    >\n      <div className=\" \">{similarImagesList}</div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport {\n  FileUploaderButton,\n  FileUploaderItem,\n  TextInput,\n  Button,\n  Tabs,\n  Tab,\n  // FileUploaderDropContainer,\n  Loading,\n} from \"carbon-components-react\";\nimport { useState } from \"react\";\nimport {\n  uploadFile,\n  postJSONData,\n  abbreviateString,\n} from \"../../helperfunctions/HelperFunctions\";\nimport UploadSimilarityView from \"./UploadSimilarityView\";\nimport { useEffect } from \"react\";\n\nconst allowedFileTypes = [\"image/jpeg\", \"image/png\"];\nconst allowedFileExtensions = [\"png\", \"jpeg\", \"jpg\"];\nconst re = /(?:\\.([^.]+))?$/;\n\nexport default function UploadButtonView(props) {\n  const maxFileSize = 3;\n  const [uploadedFile, setUploadedFile] = useState(null);\n  const [searchResult, setSearchResult] = useState(null);\n  const [fetchingSimilar, setFetchingSimilar] = useState(false);\n  const [selectedUrlImage, setSelectedUrlImage] = useState(4);\n  const [fetchError, setFetchError] = useState(false);\n\n  const selections = props.selections;\n  const searchUrl = selections.basePath + \"/search\";\n  // const searchUrl = \"http://localhost:5003/search\";\n\n  // Random collection of flickr images with commercial use license\n  const imageUrls = [\n    \"https://live.staticflickr.com/4918/46639952712_66898ec5bd_n.jpg\",\n    \"https://live.staticflickr.com/2138/2270609391_e0958ba76b.jpg\",\n    \"https://live.staticflickr.com/4773/38808299430_03752fa3c8_w.jpg\",\n    \"https://live.staticflickr.com/3228/3087974438_10c25560ea_w.jpg\",\n    \"https://live.staticflickr.com/5710/30041674731_fbf3583e36.jpg\",\n    \"https://live.staticflickr.com/3928/15284383130_8bea5daef1_w.jpg\",\n    \"https://live.staticflickr.com/4386/35520816173_366689a41b_w.jpg\",\n    \"https://live.staticflickr.com/3854/14191319358_e6ec20428f_w.jpg\",\n    \"https://live.staticflickr.com/65535/50396727037_3669bc108f.jpg\",\n  ];\n\n  useEffect(() => {\n    function onPaste(e) {\n      // e.preventDefault();\n      e.stopPropagation();\n      const item = e.clipboardData.items[0];\n      if (allowedFileTypes.includes(item.type)) {\n        getFileData(item.getAsFile());\n      }\n    }\n\n    function onDrop(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      let file = e.dataTransfer.files[0];\n      console.log(e.dataTransfer);\n      if (file) {\n        getFileData(e.dataTransfer.files[0]);\n      }\n    }\n    function onDrag(e) {\n      e.stopPropagation();\n      e.preventDefault();\n      e.dataTransfer.dropEffect = \"copy\";\n    }\n\n    window.addEventListener(\"paste\", onPaste);\n    window.addEventListener(\"dragover\", onDrag);\n    window.addEventListener(\"drop\", onDrop);\n    return function cleanup() {\n      window.removeEventListener(\"paste\", onPaste);\n      window.removeEventListener(\"dragover\", onDrag);\n      window.removeEventListener(\"drop\", onDrop);\n    };\n  }, []);\n\n  useEffect(() => {\n    clickSampleImage(selectedUrlImage);\n  }, []);\n\n  function fetchSimilar(data, fileUrl) {\n    setFetchingSimilar(true);\n\n    let loadedJSON = null;\n    if (fileUrl) {\n      loadedJSON = postJSONData(searchUrl, { fileurl: fileUrl });\n    } else {\n      const formData = new FormData();\n      formData.append(\"file\", data);\n      formData.append(\"dataset\", selections.dataset.name);\n      formData.append(\"fileurl\", fileUrl);\n      loadedJSON = uploadFile(searchUrl, formData);\n    }\n    loadedJSON\n      .then(function (data) {\n        if (data) {\n          setSearchResult(data);\n          setFetchingSimilar(false);\n          setFetchError(false);\n        }\n      })\n      .catch((data) => {\n        console.log(\"bad stuff\");\n        setFetchingSimilar(false);\n        setFetchError(true);\n        setSearchResult(null);\n      });\n  }\n\n  function getFileData(file) {\n    const fileTypeValid = allowedFileTypes.includes(file.type);\n    const fileSizeValid = file.size / (1024 * 1024) < maxFileSize;\n    let errorMessage = !fileTypeValid ? \"File must be JPG or PNG. \" : \"\";\n    errorMessage = !fileSizeValid\n      ? \"File must be less than \" + maxFileSize + \"mb.\"\n      : errorMessage;\n    const fileData = {\n      name: file.name,\n      filesize: file.size / (1024 * 1024),\n      size: file.size,\n      type: file.type,\n      valid: fileSizeValid && fileTypeValid,\n      file: file.file,\n      error: errorMessage,\n    };\n    if (fileData.valid) {\n      fetchSimilar(file, null);\n    } else {\n      setSearchResult(null);\n    }\n    updateMainImgSrc(URL.createObjectURL(file));\n    setUploadedFile(fileData);\n  }\n\n  function updateMainImgSrc(url) {\n    const uploadimg = document.getElementById(\"uploadedimage\");\n    uploadimg.src = url;\n  }\n\n  function processFile(e) {\n    const file = e.target.files[0];\n    getFileData(file);\n  }\n\n  function clickDeleteFile(e) {\n    // console.log(e.target.parentNode.parentNode);\n  }\n\n  function clickSampleImage(i) {\n    fetchFile(imageUrls[i]);\n    setSelectedUrlImage(i);\n    document.getElementById(\"urlinput\").value = imageUrls[i];\n  }\n\n  function fetchFile(url) {\n    const fileData = {\n      name: abbreviateString(url.split(\"://\")[1], 30),\n      valid: true,\n    };\n    const fileExt = re.exec(url)[1];\n    if (allowedFileExtensions.includes(fileExt)) {\n      fetchSimilar(null, url);\n      updateMainImgSrc(url);\n    } else {\n      fileData.valid = false;\n      fileData.error = \"File must be jpg or png.\";\n      setSearchResult(null);\n    }\n\n    setUploadedFile(fileData);\n  }\n\n  const fileList = uploadedFile ? (\n    <FileUploaderItem\n      key={\"fileitem\"}\n      name={uploadedFile.name}\n      status={\"edit\"}\n      errorSubject={\"File Error \"}\n      errorBody={uploadedFile.error}\n      invalid={!uploadedFile.valid}\n      onDelete={clickDeleteFile}\n    ></FileUploaderItem>\n  ) : null;\n\n  const urlList = imageUrls.map((data, i) => {\n    return (\n      <img\n        id={i}\n        alt=\"\"\n        key={\"urlimage\" + i}\n        onClick={() => {\n          clickSampleImage(i);\n        }}\n        className={\n          \"simiimage clickable rad2 mr5 \" +\n          (selectedUrlImage === i ? \" active\" : \"\")\n        }\n        src={data}\n      ></img>\n    );\n  });\n\n  return (\n    <>\n      {fetchError && (\n        <div className=\"p10 orangehighlight mb10 \">\n          Unable to reach search server.\n        </div>\n      )}\n      {fetchingSimilar && <Loading />}\n      {/* <TextInput labelText=\"bingo\" id=\"bingo\"></TextInput> */}\n\n      <div className=\"mb10 flex\">\n        <div>\n          <img\n            alt=\"\"\n            id=\"uploadedimage\"\n            className={\n              \"mainsimilarityimage mr10 rad4 \" +\n              ((uploadedFile || {}).valid ? \" \" : \"displaynone\")\n            }\n          ></img>\n          <div className=\"mt10 mr10\"> {fileList}</div>\n        </div>\n        <div className=\" flexfull\">\n          <Tabs selected={0}>\n            <Tab id=\"imageurl\" label=\"Enter URL\">\n              <div className=\"mb10 flex\">\n                <TextInput\n                  className=\"flexfull\"\n                  id=\"urlinput\"\n                  defaultValue={imageUrls[selectedUrlImage]}\n                  labelText=\"Enter URL for an image\"\n                  hideLabel={true}\n                ></TextInput>\n                <Button\n                  onClick={() => {\n                    fetchFile(document.getElementById(\"urlinput\").value);\n                  }}\n                  size=\"field\"\n                >\n                  Upload\n                </Button>\n              </div>\n              <div>{urlList}</div>\n            </Tab>\n            <Tab id=\"bycategory\" label=\"Upload (Drag n Drop)\">\n              <div className=\"mr10\">\n                <div className=\"boldtext mb10\">\n                  {\" \"}\n                  Drag and Drop Or Upload a file{\" \"}\n                </div>\n                <div className=\" mb10\">\n                  {\"only .jpg and .png files at \" + maxFileSize + \"mb or less\"}\n                </div>\n                <FileUploaderButton\n                  labelText=\"Upload\"\n                  disableLabelChanges={true}\n                  // labelDescription={\"only .jpg and .png files at \" + maxFileSize + \"mb or less\"}\n                  name=\"file uploader\"\n                  multiple={false}\n                  accept={[\"image/jpeg\", \"image/png\"]}\n                  onChange={processFile}\n                />\n              </div>\n            </Tab>\n          </Tabs>\n        </div>\n      </div>\n\n      {/* <div className=\"underline mb10\"></div> */}\n      {searchResult && (\n        <div className=\"smalldesc pb5 underline \">\n          {searchResult.ids.length} items returned |{\" \"}\n          <span className=\"boldtext\"> Feature Extraction Time :</span>{\" \"}\n          {searchResult.searchtime.toFixed(3)}s |{\" \"}\n          <span className=\"boldtext\"> Search Time: </span>{\" \"}\n          {searchResult.extractiontime.toFixed(3)}s\n        </div>\n      )}\n      <UploadSimilarityView\n        similarityArray={searchResult}\n        selections={props.selections}\n      />\n    </>\n  );\n}\n","import React from \"react\";\nimport { useEffect } from \"react\";\nimport UploadButtonView from \"./uploadview/UploadButtonView\";\nexport default function LiveSearchView(props) {\n  useEffect(() => {\n    document.title = `ConvNet Playground | Live Semantic Search`;\n  }, []);\n\n  return (\n    <>\n      <div className=\"flex pb10\">\n        <div className=\"flexfull\">\n          <div className=\"  mynotif positionrelative h100 lh10 p10 lightbluehightlight   \">\n            Upload an image to search for similar images in our dataset\n            (fashion200, iconic200).\n            <div className=\"mediumdesc\">\n              For the live search service below, an efficientnetB0 model (last\n              layer) is used for feature extraction. FAISS is used for\n              approximate nearest neighbour search.\n            </div>\n          </div>\n        </div>\n      </div>\n      <UploadButtonView selections={props.selections} />\n    </>\n  );\n}\n","import React from \"react\";\nimport { useEffect } from \"react\";\n\nexport default function IntroductionView(props) {\n  useEffect(() => {\n    document.title = `ConvNet Playground | Live Semantic Search`;\n  }, []);\n\n  return (\n    <>\n      <div className=\"flex pb10\">\n        <div className=\"flexfull\">\n          <div className=\"  mynotif positionrelative h100 lh10 p10 lightbluehightlight   \">\n            Upload an image to search for similar images in our dataset\n            (fashion200, iconic200).\n            <div className=\"mediumdesc\">\n              For the live search service below, an efficientnetB0 model (last\n              layer) is used for feature extraction. FAISS is used for\n              approximate nearest neighbour search.\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n","/**\n * @license\n * Copyright 2019 Fast Forward Labs.\n * Written by Victor Dibia / Contact : https://github.com/victordibia\n * CaseQA - CaseQA: Question Answering on Large Datasets with BERT.\n * Licensed under the MIT License (the \"License\");\n * =============================================================================\n */\n\nimport React, { useEffect, useState } from \"react\";\nimport { Route, HashRouter } from \"react-router-dom\";\nimport Header from \"./header/Header\";\nimport Footer from \"./footer/Footer\";\nimport SemanticSearchView from \"./semanticsearchview/SemanticSearchView\";\nimport EmbeddingEx from \"./embeddingview/EmbeddingView\";\nimport LiveSearchView from \"./livesearchview/LiveSearchView\";\nimport IntroductionView from \"./introductionview/IntroductionView\";\nimport { createBrowserHistory } from \"history\";\n\nconst history = createBrowserHistory({\n  basename: \"\", // The base URL of the app (see below)\n  forceRefresh: false, // Set true to force full page refreshes\n  keyLength: 6, // The length of location.key\n  // A function to use to confirm navigation with the user (see below)\n  getUserConfirmation: (message, callback) => callback(window.confirm(message)),\n});\n\nhistory.listen((location) => {\n  // console.log(location.pathname, location.hash)\n});\n\nlet linkHolder = {};\n\nfunction updateLh(location) {\n  if (location.hash in linkHolder) {\n    linkHolder[location.hash] = linkHolder[location.hash] + 1;\n  } else {\n    linkHolder[location.hash] = 0;\n  }\n}\n\nhistory.listen((location) => {\n  updateLh(location);\n});\n\nexport default function Main() {\n  const modelViewDetails = require(\"../assets/semsearch/details.json\");\n  const datasetViewDetails = require(\"../assets/semsearch/datasetdictionary.json\");\n  const topSimilar = 10;\n\n  //   specify state values and setters\n  const [selectedDataset, setSelectedDataset] = useState(0);\n  const [selectedModel, setSelectedModel] = useState(3);\n  const [selectedDistanceMetric, setSelectedDistanceMetric] = useState(0);\n  const [selectedLayer, setSelectedLayer] = useState(7);\n  const [showAdvanced, setShowAdvanced] = useState(false);\n  const [similarDrawer, setSimilarDrawer] = useState(true);\n  const [advancedDrawer, setAdvancedDrawer] = useState(true);\n  const [cycleActive, setCycleActive] = useState(false);\n\n  useEffect(() => {\n    document.title = `ConvNet Playground | Semantic Search Explorer`;\n    updateLh(window.location);\n  }, []);\n\n  const datasetInfo = modelViewDetails[\"datasets\"][selectedDataset];\n  const datasetContent = datasetViewDetails.classes[datasetInfo.name];\n\n  const selections = {\n    dataset: modelViewDetails.datasets[selectedDataset],\n    model: modelViewDetails.models[selectedModel],\n    layer: modelViewDetails.models[selectedModel].layers[selectedLayer],\n    metric: modelViewDetails.metrics[selectedDistanceMetric],\n    topSimilar: topSimilar,\n    basePath: process.env.PUBLIC_URL,\n    show: {\n      getter: {\n        similarDrawer: similarDrawer,\n        advanced: showAdvanced,\n        advancedDrawer: advancedDrawer,\n      },\n      setter: {\n        similarDrawer: setSimilarDrawer,\n        advancedDrawer: setAdvancedDrawer,\n        advanced: setShowAdvanced,\n      },\n    },\n    dictionary:\n      datasetViewDetails.dictionary[\n        modelViewDetails.datasets[selectedDataset].name\n      ],\n    config: {\n      getter: {\n        selectedDataset: selectedDataset,\n        selectedModel: selectedModel,\n        selectedDistanceMetric: selectedDistanceMetric,\n        selectedLayer: selectedLayer,\n        cycle: cycleActive,\n      },\n      setter: {\n        selectedDataset: setSelectedDataset,\n        selectedModel: setSelectedModel,\n        selectedDistanceMetric: setSelectedDistanceMetric,\n        selectedLayer: setSelectedLayer,\n        cycle: setCycleActive,\n      },\n    },\n    classlist: datasetViewDetails.classlist,\n    classes: datasetViewDetails.classes,\n  };\n\n  return (\n    <HashRouter>\n      <div>\n        <Header></Header>\n        <main className=\"container-fluid p10\">\n          <Route\n            exact\n            path=\"/\"\n            render={(props) => (\n              <SemanticSearchView\n                {...props}\n                selections={selections}\n                datasetInfo={datasetInfo}\n                datasetContent={datasetContent}\n                modelViewDetails={modelViewDetails}\n              />\n            )}\n          />\n          <Route\n            exact\n            path=\"/embeddings\"\n            render={(props) => (\n              <EmbeddingEx\n                {...props}\n                selections={selections}\n                modelViewDetails={modelViewDetails}\n              />\n            )}\n          />\n          <Route\n            exact\n            path=\"/livesearch\"\n            render={(props) => (\n              <LiveSearchView\n                {...props}\n                selections={selections}\n                modelViewDetails={modelViewDetails}\n              />\n            )}\n          />\n\n          <Route\n            exact\n            path=\"/introduction\"\n            render={(props) => (\n              <IntroductionView {...props} selections={selections} />\n            )}\n          />\n        </main>\n      </div>\n\n      <div id=\"footer\">\n        <Footer />\n      </div>\n    </HashRouter>\n  );\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./components/template.scss\";\nimport \"./components/template.css\";\nimport App from \"./components/Main\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAAAKpJREFUaAXt0rENwDAMxMAk+y+pSWLALTeg6FId//zOzP8set+i1ptasF084YRlC/SlZaDISRiTyA4Jy0CRkzAmkR0SloEiJ2FMIjskLANFTsKYRHZIWAaKnIQxieyQsAwUOQljEtkhYRkochLGJLJDwjJQ5CSMSWSHhGWgyEkYk8gOCctAkZMwJpEdEpaBIidhTCI7JCwDRU7CmER2SFgGipyEMYnssE74AKuIBBpevYWDAAAAAElFTkSuQmCC\""],"sourceRoot":""}